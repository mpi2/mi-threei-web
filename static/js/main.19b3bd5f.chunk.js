(this["webpackJsonpmi-threei-web"]=this["webpackJsonpmi-threei-web"]||[]).push([[0],{259:function(e,t,n){},260:function(e,t,n){},368:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(37),l=n.n(c),s=(n(259),n(438)),r=n(439),o=n(24),j=n(244),d=(n(260),n(17)),h=n(437),b=n(242),u=n(443),O=n(241),x=n(440),m=n(441),p=n(245),g=(n(368),n(4)),y=["No data","Not enough data","Not significantly different","Significantly different"],f=function(e){var t=e.data,n=e.columns;return Object(g.jsx)(p.a,{data:t,keys:n.map((function(e){return e.key})),indexBy:"gene",margin:{top:180,right:0,bottom:20,left:120},pixelRatio:1,minValue:"auto",maxValue:"auto",forceSquare:!1,sizeVariation:0,padding:1,colors:["white","#acacac","#c2e7da","#0a72b5"],axisTop:{orient:"top",tickSize:5,tickPadding:5,tickRotation:-90,legend:"",legendOffset:36,tickValues:n.map((function(e){return e.display}))},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0},enableGridX:!1,enableGridY:!0,cellShape:"rect",cellOpacity:1,cellBorderWidth:0,cellBorderColor:{from:"color",modifiers:[["darker",.4]]},enableLabels:!1,labelTextColor:{from:"color",modifiers:[["darker",1.4]]},animate:!0,motionStiffness:120,motionDamping:9,isInteractive:!0,hoverTarget:"rowColumn",cellHoverOpacity:1,cellHoverOthersOpacity:.5,theme:{axis:{ticks:{text:{fontSize:14,fontSmooth:"always"}}}},tooltip:function(e){var t=e.xKey,a=e.yKey,i=e.value;e.color;return Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:n.find((function(e){return e.key===t})).display})," ",Object(g.jsx)("br",{}),Object(g.jsx)("emp",{children:y[i]})," ",Object(g.jsx)("br",{}),Object(g.jsx)("strong",{children:a})]})}})},v=(n(370),n(444)),k=n(127),C=function(e){var t=e.options,n=e.onChange,i=Object(a.useState)([]),c=Object(d.a)(i,2),l=c[0],s=c[1];return Object(g.jsxs)(v.a.Group,{style:{marginTop:"20px"},children:[Object(g.jsx)(v.a.Label,{children:"Filter by gene symbol"}),Object(g.jsx)(k.a,{id:"basic-typeahead-multiple",multiple:!0,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s(e),n(e)})),options:t,placeholder:"Select gene symbol...",selected:l,clearButton:!0,allowNew:!0})]})},S=function(e){var t=e.options,n=e.onChange,i=Object(a.useState)([]),c=Object(d.a)(i,2),l=c[0],s=c[1];return Object(g.jsxs)(v.a.Group,{style:{marginTop:"20px"},children:[Object(g.jsx)(v.a.Label,{children:"Filter by cell type significance"}),Object(g.jsx)(k.a,{id:"basic-typeahead-multiple",single:!0,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s(e),n(e[0])})),labelKey:"display",options:t,placeholder:"Select cell type...",selected:l,clearButton:!0})]})},w=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1],c=function(){return i(!1)},l=Object(a.useState)(null),o=Object(d.a)(l,2),j=o[0],p=o[1],y=Object(a.useState)(!1),v=Object(d.a)(y,2),k=v[0],w=v[1],N=Object(a.useState)([]),T=Object(d.a)(N,2),I=T[0],K=T[1],B=Object(a.useState)([]),F=Object(d.a)(B,2),L=F[0],M=F[1],D=Object(a.useState)([]),P=Object(d.a)(D,2),z=P[0],E=P[1],H=Object(a.useState)(null),G=Object(d.a)(H,2),R=G[0],V=G[1],W=z.length>0?I.filter((function(e){return z.includes(e.gene)})):I,A=20*(W=W.filter((function(e){return!R||3===e[R.key]}))).length>500?20*W.length:500,J=[{key:"alphaDeltaTCells",display:"\u03b3\u03b4 T cells"},{key:"nKCells",display:"NK Cells"},{key:"nktCells",display:"NKT Cells"},{key:"bCellPrecursors",display:"B cell precursors"},{key:"dendriticCells",display:"Dendritic Cells"},{key:"granulocytes",display:"Granulocytes"},{key:"tregCells",display:"Treg Cells"},{key:"cD4TCells",display:"CD 4 TCells"},{key:"monocytesMacrophages",display:"Monocytes / Macrophages"},{key:"totalAlphBetaTCells",display:"Total \u03b1\u03b2 T cells"},{key:"bCells",display:"B cells"},{key:"cd8TCells",display:"CD 8 T Cells"},{key:"dSSChallenge",display:"DSS Challenge"},{key:"influenza",display:"Influenza"},{key:"trichurisChallenge",display:"Trichuris Challenge"},{key:"salmonellaChallenge",display:"Salmonella Challenge"}];return Object(a.useEffect)((function(){fetch("".concat("/mi-threei-web","/three-i-cell-heatmap.json")).then((function(e){return e.json()})).then((function(e){M(e.map((function(e){return e.gene}))),e.sort((function(e,t){return t.totalSignificanceScore>e.totalSignificanceScore?1:-1})),K(e),w(!0)}),(function(e){w(!0),p(e)}))}),[]),Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(h.a,{fluid:!0,children:Object(g.jsxs)(s.a,{children:[Object(g.jsx)("h1",{children:"3i Project"}),Object(g.jsx)("h3",{className:"text-muted",children:"Over 300 Immunological Phenotypes and 500 Mouse KO Lines!"}),Object(g.jsx)(b.a,{variant:"primary",onClick:function(){return i(!0)},children:"Learn more!"}),Object(g.jsxs)(u.a,{show:n,onHide:c,size:"xl",children:[Object(g.jsx)(u.a.Header,{closeButton:!0,children:Object(g.jsx)(u.a.Title,{children:"Project overview"})}),Object(g.jsxs)(u.a.Body,{children:[Object(g.jsx)("p",{children:"The 3i project has established that genetics plays an important role in shaping the immune system. By using a high-throughput, high-density immunophenotyping platform we identified 140 genes (out of 530 screened) that have an impact on the immune system when knocked out in C57BL/6N mice."}),Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("img",{alt:"",src:"".concat("/mi-threei-web","/project_overview.jpeg"),style:{width:"100%",maxWidth:"800px"},className:"d-inline-block align-middle"})})," "]}),Object(g.jsx)(u.a.Footer,{children:Object(g.jsx)(b.a,{variant:"secondary",onClick:c,children:"Close"})})]})]})}),Object(g.jsxs)(s.a,{children:[Object(g.jsx)("h1",{className:"text-center",children:"Explore 3i data"}),k?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(r.a,{children:[Object(g.jsx)(O.a,{children:Object(g.jsx)(C,{options:L,onChange:E})}),Object(g.jsx)(O.a,{children:Object(g.jsx)(S,{options:J,onChange:V})})]}),Object(g.jsx)(r.a,{children:Object(g.jsx)(O.a,{children:z.length>0?Object(g.jsxs)("h5",{className:"text-center",children:["Showing data for genes in [",z.map((function(e,t){return Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)(x.a,{variant:"info",children:e}),z.length!==t+1?Object(g.jsx)("span",{children:","}):null]})}))," ","]"," ",R?Object(g.jsxs)("span",{children:["and significant for"," ",Object(g.jsx)(x.a,{variant:"info",children:R.display})]}):null]}):Object(g.jsxs)("h5",{className:"text-center",children:[" ",R?Object(g.jsxs)("span",{children:["Showing data for genes significant for"," ",Object(g.jsx)(x.a,{variant:"info",children:R.display})]}):null]})})}),Object(g.jsx)(r.a,{className:W.length>0?"d-block":"d-none",children:Object(g.jsx)(O.a,{style:{width:"100%",height:A+"px"},children:Object(g.jsx)(f,{data:W,columns:J})})}),Object(g.jsx)(r.a,{className:0===W.length?"d-block":"d-none",children:Object(g.jsx)(m.a,{variant:"danger",children:"No matching data for your filters, try changing them!"})})]}):"loading"]}),j?"error!":null]})},N=n(446),T=n(447),I=n(442),K=function(e){var t=e.location,n=Object(a.useState)(!1),i=Object(d.a)(n,2),c=i[0],l=i[1],r=Object(a.useState)(!1),o=Object(d.a)(r,2),j=o[0],h=o[1],b=Object(a.useState)(!1),u=Object(d.a)(b,2),O=u[0],x=u[1];return Object(g.jsx)(N.a,{bg:"light",children:Object(g.jsxs)(s.a,{children:[Object(g.jsxs)(N.a.Brand,{href:"#home",children:[Object(g.jsx)("img",{alt:"",src:"".concat("/mi-threei-web","/3i-icon.png"),height:"60px",className:"d-inline-block align-middle"})," ",Object(g.jsx)("div",{className:"d-inline-block align-middle text-primary",children:Object(g.jsxs)("span",{style:{fontFamily:"'Merriweather Sans', sans-serif",fontWeight:"bolder"},children:["Infection, Immunity ",Object(g.jsx)("br",{}),"Immunophenotyping"," "]})})]}),Object(g.jsxs)(N.a.Toggle,{"aria-controls":"responsive-navbar-nav",className:"uarr",type:"button",children:[Object(g.jsx)("span",{className:"icon-bar"}),Object(g.jsx)("span",{className:"icon-bar"}),Object(g.jsx)("span",{className:"icon-bar"})]}),Object(g.jsx)(N.a.Collapse,{id:"responsive-navbar-nav",children:Object(g.jsxs)(T.a,{className:"ml-auto text",activeKey:null===t||void 0===t?void 0:t.pathname,style:{fontFamily:"'Merriweather Sans', sans-serif",fontWeight:"bolder"},children:[Object(g.jsx)(T.a.Link,{href:"/",children:"Home"}),Object(g.jsxs)(I.a,{title:"Project",id:"about-dropdown",show:c,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[Object(g.jsx)(I.a.Item,{eventKey:"4.1",children:"About 3i"}),Object(g.jsx)(I.a.Item,{eventKey:"4.2",children:"Publications"}),Object(g.jsx)(I.a.Item,{eventKey:"4.3",children:"Contact"}),Object(g.jsx)(I.a.Item,{eventKey:"4.4",children:"Team and Collaborators"}),Object(g.jsx)(I.a.Item,{eventKey:"4.5",children:"FAQ"}),Object(g.jsx)(I.a.Item,{eventKey:"4.6",children:"How to cite?"})]}),Object(g.jsxs)(I.a,{title:"Methods",id:"methods-dropdown",show:j,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:[Object(g.jsx)(I.a.Item,{eventKey:"4.1",children:"Strengths and Limitations"}),Object(g.jsx)(I.a.Item,{eventKey:"4.2",children:"Experimental Design and Protocols"}),Object(g.jsx)(I.a.Item,{eventKey:"4.3",children:"Statistical Design"})]}),Object(g.jsxs)(I.a,{title:"Data",id:"data-dropdown",show:O,onMouseEnter:function(){return x(!0)},onMouseLeave:function(){return x(!1)},children:[Object(g.jsx)(I.a.Item,{eventKey:"4.1",children:"Downloads"}),Object(g.jsx)(I.a.Item,{eventKey:"4.2",children:"Flow files"}),Object(g.jsx)(I.a.Item,{eventKey:"4.3",children:"New cell types"})]})]})})]})})};var B=function(){var e=Object(o.f)(K);return Object(g.jsx)(a.Fragment,{children:Object(g.jsxs)(j.a,{basename:"/mi-threei-web",children:[Object(g.jsx)(e,{}),Object(g.jsx)("main",{className:"main-content w-100",children:Object(g.jsx)(s.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0},children:Object(g.jsx)(o.c,{children:Object(g.jsx)(o.a,{exact:!0,path:"/",component:w})})})}),Object(g.jsx)("footer",{className:"footer py-5 bg-dark text-light",children:Object(g.jsx)(s.a,{children:Object(g.jsx)(r.a,{})})})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,449)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),a(e),i(e),c(e),l(e)}))};l.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root")),F()}},[[389,1,2]]]);
//# sourceMappingURL=main.19b3bd5f.chunk.js.map