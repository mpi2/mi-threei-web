{"version":3,"sources":["Heatmap.tsx","GeneFilter.tsx","CellTypeFilter.tsx","Home.tsx","MainNav.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["valueMap","MyResponsiveHeatMapCanvas","data","columns","keys","map","c","key","indexBy","margin","top","right","bottom","left","pixelRatio","minValue","maxValue","forceSquare","sizeVariation","padding","colors","axisTop","orient","tickSize","tickPadding","tickRotation","legend","legendOffset","tickValues","display","axisLeft","enableGridX","enableGridY","cellShape","cellOpacity","cellBorderWidth","cellBorderColor","from","modifiers","enableLabels","labelTextColor","animate","motionStiffness","motionDamping","isInteractive","hoverTarget","cellHoverOpacity","cellHoverOthersOpacity","theme","axis","ticks","text","fontSize","fontSmooth","tooltip","xKey","yKey","value","color","find","GeneFilter","options","onChange","useState","selectedGenes","setSelectedGenes","Form","Group","style","marginTop","Label","id","multiple","s","placeholder","selected","clearButton","allowNew","CellTypeFilter","selectedCellType","setSelectedCellType","single","labelKey","Home","show","setShow","handleClose","error","setError","isLoaded","setIsLoaded","setData","setOptions","filteredData","length","filter","d","includes","gene","heatmapHeight","cellTypes","useEffect","fetch","process","then","res","json","result","r","Jumbotron","fluid","Container","className","Button","variant","onClick","Modal","onHide","size","Header","closeButton","Title","Body","alt","src","width","maxWidth","Footer","Row","Col","g","i","Badge","height","Alert","MainNav","location","showAbout","setShowAbout","showMethods","setShowMethods","showData","setShowData","Navbar","bg","Brand","href","fontFamily","fontWeight","Toggle","aria-controls","type","Collapse","Nav","activeKey","pathname","Link","NavDropdown","title","onMouseEnter","onMouseLeave","Item","eventKey","App","MainBarWithRouter","withRouter","basename","paddingLeft","paddingRight","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gXAMMA,EAAW,CACf,UACA,kBACA,8BACA,2BAGWC,EAA4B,SAAC,GAAD,IACvCC,EADuC,EACvCA,KACAC,EAFuC,EAEvCA,QAFuC,OAOvC,cAAC,IAAD,CACED,KAAMA,EACNE,KAAMD,EAAQE,KAAI,SAACC,GAAD,OAAOA,EAAEC,OAC3BC,QAAQ,OACRC,OAAQ,CAAEC,IAAK,IAAKC,MAAO,EAAGC,OAAQ,GAAIC,KAAM,KAChDC,WAAY,EACZC,SAAS,OACTC,SAAS,OACTC,aAAa,EACbC,cAAe,EACfC,QAAS,EACTC,OAAO,OACPC,QAAS,CACPC,OAAQ,MACRC,SAAU,EACVC,YAAa,EACbC,cAAe,GACfC,OAAQ,GACRC,aAAc,GACdC,WAAYzB,EAAQE,KAAI,SAACC,GAAD,OAAOA,EAAEuB,YAEnCC,SAAU,CACRR,OAAQ,OACRC,SAAU,EACVC,YAAa,EACbC,aAAc,GAEhBM,aAAa,EACbC,aAAa,EACbC,UAAU,OACVC,YAAa,EACbC,gBAAiB,EACjBC,gBAAiB,CAAEC,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,MACzDC,cAAc,EACdC,eAAgB,CAAEH,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACxDG,SAAS,EACTC,gBAAiB,IACjBC,cAAe,EACfC,eAAe,EACfC,YAAY,YACZC,iBAAkB,EAClBC,uBAAwB,GACxBC,MAAO,CACLC,KAAM,CACJC,MAAO,CACLC,KAAM,CACJC,SAAU,GACVC,WAAY,aAKpBC,QAAS,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,KAAMC,EAAf,EAAeA,MAAf,EAAsBC,MAAtB,OACP,iCACE,iCAASvD,EAAQwD,MAAK,SAACrD,GAAD,OAAOA,EAAEC,MAAQgD,KAAM1B,UAD/C,IACiE,uBAC/D,8BAAM7B,EAASyD,KAFjB,IAE+B,uBAC7B,iCAASD,W,2BClEJI,EAAkD,SAAC,GAGzD,IAFLC,EAEI,EAFJA,QACAC,EACI,EADJA,SACI,EACsCC,mBAAS,IAD/C,mBACGC,EADH,KACkBC,EADlB,KAEJ,OACE,eAACC,EAAA,EAAKC,MAAN,CAAYC,MAAO,CAAEC,UAAW,QAAhC,UACE,cAACH,EAAA,EAAKI,MAAN,oCACA,cAAC,IAAD,CACEC,GAAG,2BACHC,UAAQ,EACRV,SAAQ,+GAAE,SAACW,GACTR,EAAiBQ,GACjBX,EAASW,MAEXZ,QAASA,EACTa,YAAY,wBACZC,SAAUX,EACVY,aAAW,EACXC,UAAQ,QCnBHC,EAA0D,SAAC,GAGjE,IAFLjB,EAEI,EAFJA,QACAC,EACI,EADJA,SACI,EAC4CC,mBAAS,IADrD,mBACGgB,EADH,KACqBC,EADrB,KAEJ,OACE,eAACd,EAAA,EAAKC,MAAN,CAAYC,MAAO,CAAEC,UAAW,QAAhC,UACE,cAACH,EAAA,EAAKI,MAAN,+CACA,cAAC,IAAD,CACEC,GAAG,2BACHU,QAAM,EACNnB,SAAQ,+GAAE,SAACW,GACTO,EAAoBP,GACpBX,EAASW,EAAE,OAEbS,SAAS,UACTrB,QAASA,EACTa,YAAY,sBACZC,SAAUI,EACVH,aAAW,QCbNO,EAA0B,WAAO,IAAD,EACnBpB,oBAAS,GADU,mBACpCqB,EADoC,KAC9BC,EAD8B,KAGrCC,EAAc,kBAAMD,GAAQ,IAHS,EAMjBtB,mBAAS,MANQ,mBAMpCwB,EANoC,KAM7BC,EAN6B,OAOXzB,oBAAS,GAPE,mBAOpC0B,EAPoC,KAO1BC,EAP0B,OAQnB3B,mBAAqB,IARF,mBAQpC7D,EARoC,KAQ9ByF,EAR8B,OASb5B,mBAAS,IATI,mBASpCF,EAToC,KAS3B+B,EAT2B,OAUD7B,mBAAwB,IAVvB,mBAUpCC,EAVoC,KAUrBC,EAVqB,OAWKF,mBAAc,MAXnB,mBAWpCgB,EAXoC,KAWlBC,EAXkB,KAavCa,EACF7B,EAAc8B,OAAS,EACnB5F,EAAK6F,QAAO,SAACC,GAAD,OAAYhC,EAAciC,SAASD,EAAEE,SACjDhG,EAMAiG,EACkB,IALxBN,EAAeA,EAAaE,QAAO,SAACC,GAAD,OACjCjB,GAA+C,IAA5BiB,EAAEjB,EAAiBxE,SAIzBuF,OAAc,IAA4B,GAAtBD,EAAaC,OAAc,IAExDM,EAAY,CAChB,CAAE7F,IAAK,mBAAoBsB,QAAS,wBACpC,CAAEtB,IAAK,UAAWsB,QAAS,YAC3B,CAAEtB,IAAK,WAAYsB,QAAS,aAC5B,CAAEtB,IAAK,kBAAmBsB,QAAS,qBACnC,CAAEtB,IAAK,iBAAkBsB,QAAS,mBAClC,CAAEtB,IAAK,eAAgBsB,QAAS,gBAChC,CAAEtB,IAAK,YAAasB,QAAS,cAC7B,CAAEtB,IAAK,YAAasB,QAAS,eAC7B,CAAEtB,IAAK,uBAAwBsB,QAAS,2BACxC,CAAEtB,IAAK,sBAAuBsB,QAAS,8BACvC,CAAEtB,IAAK,SAAUsB,QAAS,WAC1B,CAAEtB,IAAK,YAAasB,QAAS,gBAC7B,CAAEtB,IAAK,eAAgBsB,QAAS,iBAChC,CAAEtB,IAAK,YAAasB,QAAS,aAC7B,CAAEtB,IAAK,qBAAsBsB,QAAS,uBACtC,CAAEtB,IAAK,sBAAuBsB,QAAS,yBAmBzC,OAhBAwE,qBAAU,WACRC,MAAM,GAAD,OAAIC,iBAAJ,+BACFC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MACC,SAACG,GACCjB,GAAY,GACZC,EAAQgB,GACRf,EAAWe,EAAOtG,KAAI,SAACuG,GAAD,OAAYA,EAAEV,YAEtC,SAACX,GACCG,GAAY,GACZF,EAASD,QAGd,IAGD,eAAC,WAAD,WACE,cAACsB,EAAA,EAAD,CAAWC,OAAK,EAAhB,SACE,eAACC,EAAA,EAAD,WACE,4CACA,oBAAIC,UAAU,aAAd,uEAIA,cAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAjEf,kBAAM9B,GAAQ,IAiEzB,yBAIA,eAAC+B,EAAA,EAAD,CAAOhC,KAAMA,EAAMiC,OAAQ/B,EAAagC,KAAK,KAA7C,UACE,cAACF,EAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACE,cAACJ,EAAA,EAAMK,MAAP,iCAEF,eAACL,EAAA,EAAMM,KAAP,WACE,iUAOA,qBAAKV,UAAU,cAAf,SACE,qBACEW,IAAI,GACJC,IAAG,UAAKrB,iBAAL,0BACHnC,MAAO,CAAEyD,MAAO,OAAQC,SAAU,SAClCd,UAAU,kCAEP,OAET,cAACI,EAAA,EAAMW,OAAP,UACE,cAACd,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS7B,EAArC,6BAOR,eAACyB,EAAA,EAAD,WACE,oBAAIC,UAAU,cAAd,6BAEEvB,EAGA,qCACE,eAACuC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAAC,EAAD,CACEpE,QAASA,EACTC,SAAUG,MAGd,cAACgE,EAAA,EAAD,UACE,cAAC,EAAD,CACEpE,QAASuC,EACTtC,SAAUkB,SAIhB,cAACgD,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACGjE,EAAc8B,OAAS,EACtB,qBAAIkB,UAAU,cAAd,wCAEGhD,EAAc3D,KAAI,SAAC6H,EAAGC,GAAJ,OACjB,qCACG,IACD,cAACC,EAAA,EAAD,CAAOlB,QAAQ,OAAf,SAAuBgB,IACtBlE,EAAc8B,SAAWqC,EAAI,EAAI,qCAAiB,WAEnD,IARN,IASI,IACDpD,EACC,uDACsB,IACpB,cAACqD,EAAA,EAAD,CAAOlB,QAAQ,OAAf,SAAuBnC,EAAiBlD,aAExC,QAEJ,SAGR,cAACmG,EAAA,EAAD,CAAKhB,UAAWnB,EAAaC,OAAS,EAAI,UAAY,SAAtD,SACE,cAACmC,EAAA,EAAD,CACE7D,MAAO,CACLyD,MAAO,OACPQ,OAAQlC,EAAgB,MAH5B,SAME,cAAC,EAAD,CACEjG,KAAM2F,EACN1F,QAASiG,QAIf,cAAC4B,EAAA,EAAD,CAAKhB,UAAmC,IAAxBnB,EAAaC,OAAe,UAAY,SAAxD,SACE,cAACwC,EAAA,EAAD,CAAOpB,QAAQ,SAAf,wEAtDJ,aA8DH3B,EAAQ,SAAW,S,2BCpLbgD,EAAkD,SAAC,GAEzD,IADLC,EACI,EADJA,SACI,EAC8BzE,oBAAS,GADvC,mBACG0E,EADH,KACcC,EADd,OAEkC3E,oBAAS,GAF3C,mBAEG4E,EAFH,KAEgBC,EAFhB,OAG4B7E,oBAAS,GAHrC,mBAGG8E,EAHH,KAGaC,EAHb,KAIJ,OACE,cAACC,EAAA,EAAD,CAAQC,GAAG,QAAX,SACE,eAACjC,EAAA,EAAD,WACE,eAACgC,EAAA,EAAOE,MAAR,CAAcC,KAAK,QAAnB,UACE,qBACEvB,IAAI,GACJC,IAAG,UAAKrB,iBAAL,gBACH8B,OAAO,OACPrB,UAAU,gCACT,IACH,qBAAKA,UAAU,2CAAf,SACE,uBACE5C,MAAO,CAEL+E,WAAY,kCACZC,WAAY,UAJhB,iCAOsB,uBAPtB,oBAQoB,YAIxB,eAACL,EAAA,EAAOM,OAAR,CACEC,gBAAc,wBACdtC,UAAU,OACVuC,KAAK,SAHP,UAKE,sBAAMvC,UAAU,aAChB,sBAAMA,UAAU,aAChB,sBAAMA,UAAU,gBAElB,cAAC+B,EAAA,EAAOS,SAAR,CAAiBjF,GAAG,wBAApB,SACE,eAACkF,EAAA,EAAD,CACEzC,UAAU,eACV0C,UAAS,OAAElB,QAAF,IAAEA,OAAF,EAAEA,EAAUmB,SACrBvF,MAAO,CACL+E,WAAY,kCACZC,WAAY,UALhB,UAQE,cAACK,EAAA,EAAIG,KAAL,CAAUV,KAAK,IAAf,kBACA,eAACW,EAAA,EAAD,CACEC,MAAM,UACNvF,GAAG,iBACHa,KAAMqD,EACNsB,aAAc,kBAAMrB,GAAa,IACjCsB,aAAc,kBAAMtB,GAAa,IALnC,UAOE,cAACmB,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,sBACA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,0BACA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,qBACA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,oCAGA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,iBACA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,6BAEF,eAACL,EAAA,EAAD,CACEC,MAAM,UACNvF,GAAG,mBACHa,KAAMuD,EACNoB,aAAc,kBAAMnB,GAAe,IACnCoB,aAAc,kBAAMpB,GAAe,IALrC,UAOE,cAACiB,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,uCAGA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,+CAGA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,mCAIF,eAACL,EAAA,EAAD,CACEC,MAAM,OACNvF,GAAG,gBACHa,KAAMyD,EACNkB,aAAc,kBAAMjB,GAAY,IAChCkB,aAAc,kBAAMlB,GAAY,IALlC,UAOE,cAACe,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,uBACA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,wBACA,cAACL,EAAA,EAAYI,KAAb,CAAkBC,SAAS,MAA3B,0CC/DCC,MAxBf,WACE,IAAMC,EAAoBC,YAAW9B,GAErC,OACE,cAAC,WAAD,UACE,eAAC,IAAD,CAAe+B,SAAU/D,iBAAzB,UACE,cAAC6D,EAAD,IACA,sBAAMpD,UAAU,qBAAhB,SACE,cAACD,EAAA,EAAD,CAAWD,OAAK,EAAC1C,MAAO,CAAEmG,YAAa,EAAGC,aAAc,GAAxD,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWxF,UAIvC,wBAAQ6B,UAAU,iCAAlB,SACE,cAACD,EAAA,EAAD,UACE,cAACiB,EAAA,EAAD,cCTG4C,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBtE,MAAK,YAAkD,IAA/CuE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.5d7815e9.chunk.js","sourcesContent":["// @ts-nocheck\n// install (please make sure versions match peerDependencies)\n// yarn add @nivo/core @nivo/heatmap\nimport { ResponsiveHeatMapCanvas } from \"@nivo/heatmap\";\nimport \"./Heatmap.scss\";\n\nconst valueMap = [\n  \"No data\",\n  \"Not enough data\",\n  \"Not significantly different\",\n  \"Significantly different\",\n];\n\nexport const MyResponsiveHeatMapCanvas = ({\n  data,\n  columns,\n}: {\n  data: any;\n  columns: Array<any>;\n}) => (\n  <ResponsiveHeatMapCanvas\n    data={data}\n    keys={columns.map((c) => c.key)}\n    indexBy=\"gene\"\n    margin={{ top: 180, right: 0, bottom: 20, left: 120 }}\n    pixelRatio={1}\n    minValue=\"auto\"\n    maxValue=\"auto\"\n    forceSquare={false}\n    sizeVariation={0}\n    padding={1}\n    colors=\"RdBu\"\n    axisTop={{\n      orient: \"top\",\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: -90,\n      legend: \"\",\n      legendOffset: 36,\n      tickValues: columns.map((c) => c.display),\n    }}\n    axisLeft={{\n      orient: \"left\",\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: 0,\n    }}\n    enableGridX={false}\n    enableGridY={true}\n    cellShape=\"rect\"\n    cellOpacity={1}\n    cellBorderWidth={0}\n    cellBorderColor={{ from: \"color\", modifiers: [[\"darker\", 0.4]] }}\n    enableLabels={false}\n    labelTextColor={{ from: \"color\", modifiers: [[\"darker\", 1.4]] }}\n    animate={true}\n    motionStiffness={120}\n    motionDamping={9}\n    isInteractive={true}\n    hoverTarget=\"rowColumn\"\n    cellHoverOpacity={1}\n    cellHoverOthersOpacity={0.5}\n    theme={{\n      axis: {\n        ticks: {\n          text: {\n            fontSize: 14,\n            fontSmooth: \"always\",\n          },\n        },\n      },\n    }}\n    tooltip={({ xKey, yKey, value, color }) => (\n      <span>\n        <strong>{columns.find((c) => c.key === xKey).display}</strong> <br />\n        <emp>{valueMap[value]}</emp> <br />\n        <strong>{yKey}</strong>\n      </span>\n    )}\n  />\n);\n","// @ts-nocheck\nimport React, { FunctionComponent, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Typeahead, TypeaheadMenu } from \"react-bootstrap-typeahead\";\n\nexport interface IGeneFilterProps {\n  options: Array<string>;\n  onChange(options: Array<string>): any;\n}\n\nexport const GeneFilter: FunctionComponent<IGeneFilterProps> = ({\n  options,\n  onChange,\n}) => {\n  const [selectedGenes, setSelectedGenes] = useState([]);\n  return (\n    <Form.Group style={{ marginTop: \"20px\" }}>\n      <Form.Label>Filter by gene symbol</Form.Label>\n      <Typeahead\n        id=\"basic-typeahead-multiple\"\n        multiple\n        onChange={(s) => {\n          setSelectedGenes(s);\n          onChange(s);\n        }}\n        options={options}\n        placeholder=\"Select gene symbol...\"\n        selected={selectedGenes}\n        clearButton\n        allowNew\n      />\n    </Form.Group>\n  );\n};\n","// @ts-nocheck\nimport React, { FunctionComponent, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\n\nexport interface ICellTypeFilterProps {\n  options: Array<any>;\n  onChange(options: string): any;\n}\n\nexport const CellTypeFilter: FunctionComponent<ICellTypeFilterProps> = ({\n  options,\n  onChange,\n}) => {\n  const [selectedCellType, setSelectedCellType] = useState([]);\n  return (\n    <Form.Group style={{ marginTop: \"20px\" }}>\n      <Form.Label>Filter by cell type significance</Form.Label>\n      <Typeahead\n        id=\"basic-typeahead-multiple\"\n        single\n        onChange={(s) => {\n          setSelectedCellType(s);\n          onChange(s[0]);\n        }}\n        labelKey=\"display\"\n        options={options}\n        placeholder=\"Select cell type...\"\n        selected={selectedCellType}\n        clearButton\n      />\n    </Form.Group>\n  );\n};\n","import React, { Fragment, FunctionComponent, useEffect, useState } from \"react\";\nimport {\n  Badge,\n  Button,\n  Col,\n  Container,\n  Jumbotron,\n  Modal,\n  Row,\n  Alert,\n} from \"react-bootstrap\";\nimport { MyResponsiveHeatMapCanvas } from \"./Heatmap\";\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\nimport { GeneFilter } from \"./GeneFilter\";\nimport { CellTypeFilter } from \"./CellTypeFilter\";\n\nexport const Home: FunctionComponent = () => {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [data, setData] = useState<Array<any>>([]);\n  const [options, setOptions] = useState([]);\n  const [selectedGenes, setSelectedGenes] = useState<Array<string>>([]);\n  const [selectedCellType, setSelectedCellType] = useState<any>(null);\n\n  let filteredData: Array<any> =\n    selectedGenes.length > 0\n      ? data.filter((d: any) => selectedGenes.includes(d.gene))\n      : data;\n\n  filteredData = filteredData.filter((d) =>\n    selectedCellType ? d[selectedCellType.key] === 3 : true\n  );\n\n  const heatmapHeight =\n    filteredData.length * 20 > 500 ? filteredData.length * 20 : 500;\n\n  const cellTypes = [\n    { key: \"alphaDeltaTCells\", display: \"γδ T cells\" },\n    { key: \"nKCells\", display: \"NK Cells\" },\n    { key: \"nktCells\", display: \"NKT Cells\" },\n    { key: \"bCellPrecursors\", display: \"B cell precursors\" },\n    { key: \"dendriticCells\", display: \"Dendritic Cells\" },\n    { key: \"granulocytes\", display: \"Granulocytes\" },\n    { key: \"tregCells\", display: \"Treg Cells\" },\n    { key: \"cD4TCells\", display: \"CD 4 TCells\" },\n    { key: \"monocytesMacrophages\", display: \"Monocytes / Macrophages\" },\n    { key: \"totalAlphBetaTCells\", display: \"Total αβ T cells\" },\n    { key: \"bCells\", display: \"B cells\" },\n    { key: \"cd8TCells\", display: \"CD 8 T Cells\" },\n    { key: \"dSSChallenge\", display: \"DSS Challenge\" },\n    { key: \"influenza\", display: \"Influenza\" },\n    { key: \"trichurisChallenge\", display: \"Trichuris Challenge\" },\n    { key: \"salmonellaChallenge\", display: \"Salmonella Challenge\" },\n  ];\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/three-i-cell-heatmap.json`)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          setData(result);\n          setOptions(result.map((r: any) => r.gene));\n        },\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      );\n  }, []);\n\n  return (\n    <Fragment>\n      <Jumbotron fluid>\n        <Container>\n          <h1>3i Project</h1>\n          <h3 className=\"text-muted\">\n            Over 300 Immunological Phenotypes and 500 Mouse KO Lines!\n          </h3>\n\n          <Button variant=\"primary\" onClick={handleShow}>\n            Learn more!\n          </Button>\n\n          <Modal show={show} onHide={handleClose} size=\"xl\">\n            <Modal.Header closeButton>\n              <Modal.Title>Project overview</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <p>\n                The 3i project has established that genetics plays an important\n                role in shaping the immune system. By using a high-throughput,\n                high-density immunophenotyping platform we identified 140 genes\n                (out of 530 screened) that have an impact on the immune system\n                when knocked out in C57BL/6N mice.\n              </p>\n              <div className=\"text-center\">\n                <img\n                  alt=\"\"\n                  src={`${process.env.PUBLIC_URL}/project_overview.jpeg`}\n                  style={{ width: \"100%\", maxWidth: \"800px\" }}\n                  className=\"d-inline-block align-middle\"\n                />\n              </div>{\" \"}\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={handleClose}>\n                Close\n              </Button>\n            </Modal.Footer>\n          </Modal>\n        </Container>\n      </Jumbotron>\n      <Container>\n        <h1 className=\"text-center\">Explore 3i data</h1>\n\n        {!isLoaded ? (\n          \"loading\"\n        ) : (\n          <>\n            <Row>\n              <Col>\n                <GeneFilter\n                  options={options}\n                  onChange={setSelectedGenes}\n                ></GeneFilter>\n              </Col>\n              <Col>\n                <CellTypeFilter\n                  options={cellTypes}\n                  onChange={setSelectedCellType}\n                ></CellTypeFilter>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                {selectedGenes.length > 0 ? (\n                  <h4 className=\"text-center\">\n                    Showing data for genes in [\n                    {selectedGenes.map((g, i) => (\n                      <>\n                        {\" \"}\n                        <Badge variant=\"info\">{g}</Badge>\n                        {selectedGenes.length !== i + 1 ? <span>,</span> : null}\n                      </>\n                    ))}{\" \"}\n                    ]{\" \"}\n                    {selectedCellType ? (\n                      <span>\n                        and significant for{\" \"}\n                        <Badge variant=\"info\">{selectedCellType.display}</Badge>\n                      </span>\n                    ) : null}\n                  </h4>\n                ) : null}\n              </Col>\n            </Row>\n            <Row className={filteredData.length > 0 ? \"d-block\" : \"d-none\"}>\n              <Col\n                style={{\n                  width: \"100%\",\n                  height: heatmapHeight + \"px\",\n                }}\n              >\n                <MyResponsiveHeatMapCanvas\n                  data={filteredData}\n                  columns={cellTypes}\n                ></MyResponsiveHeatMapCanvas>\n              </Col>\n            </Row>\n            <Row className={filteredData.length === 0 ? \"d-block\" : \"d-none\"}>\n              <Alert variant=\"danger\">\n                No matching date for your filters, try changing them!\n              </Alert>\n            </Row>\n          </>\n        )}\n      </Container>\n\n      {error ? \"error!\" : null}\n    </Fragment>\n  );\n};\n","import React, { FunctionComponent, useState } from \"react\";\nimport { Navbar, Container, Nav, NavDropdown } from \"react-bootstrap\";\nimport { RouteComponentProps } from \"react-router\";\n\nexport const MainNav: FunctionComponent<RouteComponentProps> = ({\n  location,\n}) => {\n  const [showAbout, setShowAbout] = useState(false);\n  const [showMethods, setShowMethods] = useState(false);\n  const [showData, setShowData] = useState(false);\n  return (\n    <Navbar bg=\"light\">\n      <Container>\n        <Navbar.Brand href=\"#home\">\n          <img\n            alt=\"\"\n            src={`${process.env.PUBLIC_URL}/3i-icon.png`}\n            height=\"60px\"\n            className=\"d-inline-block align-middle\"\n          />{\" \"}\n          <div className=\"d-inline-block align-middle text-primary\">\n            <span\n              style={{\n                //fontVariant: \"small-caps\",\n                fontFamily: \"'Merriweather Sans', sans-serif\",\n                fontWeight: \"bolder\",\n              }}\n            >\n              Infection, Immunity <br />\n              Immunophenotyping{\" \"}\n            </span>\n          </div>\n        </Navbar.Brand>\n        <Navbar.Toggle\n          aria-controls=\"responsive-navbar-nav\"\n          className=\"uarr\"\n          type=\"button\"\n        >\n          <span className=\"icon-bar\"></span>\n          <span className=\"icon-bar\"></span>\n          <span className=\"icon-bar\"></span>\n        </Navbar.Toggle>\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav\n            className=\"ml-auto text\"\n            activeKey={location?.pathname}\n            style={{\n              fontFamily: \"'Merriweather Sans', sans-serif\",\n              fontWeight: \"bolder\",\n            }}\n          >\n            <Nav.Link href=\"/\">Home</Nav.Link>\n            <NavDropdown\n              title=\"Project\"\n              id=\"about-dropdown\"\n              show={showAbout}\n              onMouseEnter={() => setShowAbout(true)}\n              onMouseLeave={() => setShowAbout(false)}\n            >\n              <NavDropdown.Item eventKey=\"4.1\">About 3i</NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.2\">Publications</NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.3\">Contact</NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.4\">\n                Team and Collaborators\n              </NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.5\">FAQ</NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.6\">How to cite?</NavDropdown.Item>\n            </NavDropdown>\n            <NavDropdown\n              title=\"Methods\"\n              id=\"methods-dropdown\"\n              show={showMethods}\n              onMouseEnter={() => setShowMethods(true)}\n              onMouseLeave={() => setShowMethods(false)}\n            >\n              <NavDropdown.Item eventKey=\"4.1\">\n                Strengths and Limitations\n              </NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.2\">\n                Experimental Design and Protocols\n              </NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.3\">\n                Statistical Design\n              </NavDropdown.Item>\n            </NavDropdown>\n            <NavDropdown\n              title=\"Data\"\n              id=\"data-dropdown\"\n              show={showData}\n              onMouseEnter={() => setShowData(true)}\n              onMouseLeave={() => setShowData(false)}\n            >\n              <NavDropdown.Item eventKey=\"4.1\">Downloads</NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.2\">Flow files</NavDropdown.Item>\n              <NavDropdown.Item eventKey=\"4.3\">New cell types</NavDropdown.Item>\n            </NavDropdown>\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n","import React, { Fragment } from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { BrowserRouter, Route, Switch, withRouter } from \"react-router-dom\";\nimport \"./App.scss\";\nimport { Home } from \"./Home\";\nimport { MainNav } from \"./MainNav\";\n\nfunction App() {\n  const MainBarWithRouter = withRouter(MainNav);\n\n  return (\n    <Fragment>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <MainBarWithRouter></MainBarWithRouter>\n        <main className=\"main-content w-100\">\n          <Container fluid style={{ paddingLeft: 0, paddingRight: 0 }}>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n            </Switch>\n          </Container>\n        </main>\n        <footer className=\"footer py-5 bg-dark text-light\">\n          <Container>\n            <Row></Row>\n          </Container>\n        </footer>\n      </BrowserRouter>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}