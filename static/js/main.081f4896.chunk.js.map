{"version":3,"sources":["pages/About.tsx","Constants.ts","Heatmap.tsx","GeneFilter.tsx","CellTypeFilter.tsx","Legend.tsx","Home.tsx","MainNav.tsx","ThreeiFooter.tsx","pages/Publications.tsx","pages/Contact.tsx","pages/Team.tsx","pages/Faq.tsx","pages/HowToCite.tsx","pages/Limitations.tsx","pages/ExperimentalDesign.tsx","pages/StatisticalDesign.tsx","pages/Downloads.tsx","pages/FlowFiles.tsx","pages/NewCellTypes.tsx","Details.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["About","Container","className","href","target","rel","valueMap","cellTypes","key","display","type","procedures","cellTypeLabelMap","colTypes","filter","c","concat","forEach","MyResponsiveHeatMapCanvas","data","columns","history","useHistory","keys","map","indexBy","margin","top","right","bottom","left","pixelRatio","minValue","maxValue","forceSquare","sizeVariation","padding","colors","axisTop","orient","tickSize","tickPadding","tickRotation","legend","legendOffset","tickValues","axisLeft","enableGridX","enableGridY","cellShape","cellOpacity","cellBorderWidth","cellBorderColor","from","modifiers","enableLabels","labelTextColor","animate","motionStiffness","motionDamping","isInteractive","hoverTarget","cellHoverOpacity","cellHoverOthersOpacity","onClick","e","find","xKey","push","yKey","encodeURIComponent","theme","axis","ticks","text","fontSize","fontSmooth","tooltip","value","color","GeneFilter","options","onChange","useState","selectedGenes","setSelectedGenes","Form","Group","style","marginTop","Label","id","multiple","s","placeholder","selected","clearButton","allowNew","CellTypeFilter","selectedCellType","setSelectedCellType","single","labelKey","Legend","colorlabel","index","backgroundColor","border","width","height","Home","show","setShow","handleClose","error","setError","isLoaded","setIsLoaded","setData","setOptions","exploreBy","setExploreBy","filteredData","length","d","includes","gene","heatmapHeight","useEffect","heatmapUrl","process","fetch","then","res","json","result","r","sort","a","b","totalSignificanceScore","Jumbotron","fluid","Button","variant","Modal","onHide","size","Header","closeButton","Title","Body","alt","src","maxWidth","Footer","ButtonGroup","toggle","ToggleButton","name","checked","currentTarget","Row","Col","g","i","Badge","Alert","MainNav","location","showProject","setShowProject","showMethods","setShowMethods","menuStates","project","status","set","methods","Navbar","bg","Brand","as","Link","to","fontFamily","fontWeight","Toggle","aria-controls","Collapse","Nav","activeKey","pathname","link","children","menuItem","replace","NavDropdown","title","onMouseEnter","onMouseLeave","active","childItem","Item","ThreeiFooter","publications","citation","pdf","pdfName","Publications","publication","icon","faFilePdf","Contact","faEnvelope","Team","Faq","HowToCite","Limitations","observationProtocols","description","documents","file","challengeProtocols","ExperimentalDesign","Accordion","Card","eventKey","Table","striped","bordered","hover","rowSpan","observationProtocol","doc","StatisticalDesign","statisticalMethods","stat","content","hitAssays","url","Downloads","FlowFiles","NewCellTypes","getCellColor","Details","cellTypeParameterMap","useParams","cellType","procedure","decodeURIComponent","tableRows","setTableRows","tableColumns","setTableColumns","parameters","mapping","toLowerCase","parameterId","detailsData","tsvParse","row","displayProcedureName","groupedByParameter","extraCols","sex","genotype","significanceValue","sexGenotypeKey","newTableRows","v","ai","indexOf","Parameter","parameterName","Assay","mgi","mgiAccessionId","console","log","window","open","responsive","col","cursor","App","MainBarWithRouter","withRouter","FooterWithRouter","cellParameterMap","setCellParameterMap","basename","paddingLeft","paddingRight","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2SAGaA,EAA2B,WACtC,OACE,eAACC,EAAA,EAAD,CAAWC,UAAU,OAArB,UACE,oBAAIA,UAAU,OAAd,mBACA,iUAOA,oQAKE,mBACEC,KAAK,iCACLC,OAAO,SACPC,IAAI,aAHN,kBALF,QAcA,kRAMA,igBASA,0HAEmB,IACjB,mBACEF,KAAK,iCACLC,OAAO,SACPC,IAAI,aAHN,kBAHF,oJAYY,IACV,mBAAGF,KAAK,uBAAuBC,OAAO,SAASC,IAAI,aAAnD,kBAEK,IAfP,wFAmBA,kY,mGC9DOC,G,OAAW,CACtB,UACA,kBACA,8BACA,4BAGWC,EAAY,CACvB,CAAEC,IAAK,mBAAoBC,QAAS,uBAAcC,KAAM,QACxD,CAAEF,IAAK,UAAWC,QAAS,WAAYC,KAAM,QAC7C,CAAEF,IAAK,WAAYC,QAAS,YAAaC,KAAM,QAC/C,CAAEF,IAAK,kBAAmBC,QAAS,oBAAqBC,KAAM,QAC9D,CAAEF,IAAK,iBAAkBC,QAAS,kBAAmBC,KAAM,QAC3D,CAAEF,IAAK,eAAgBC,QAAS,eAAgBC,KAAM,QACtD,CAAEF,IAAK,YAAaC,QAAS,aAAcC,KAAM,QACjD,CAAEF,IAAK,YAAaC,QAAS,cAAeC,KAAM,QAClD,CACEF,IAAK,uBACLC,QAAS,0BACTC,KAAM,QAER,CAAEF,IAAK,sBAAuBC,QAAS,6BAAoBC,KAAM,QACjE,CAAEF,IAAK,SAAUC,QAAS,UAAWC,KAAM,QAC3C,CAAEF,IAAK,YAAaC,QAAS,cAAeC,KAAM,QAClD,CAAEF,IAAK,eAAgBC,QAAS,gBAAiBC,KAAM,aACvD,CAAEF,IAAK,YAAaC,QAAS,YAAaC,KAAM,aAChD,CACEF,IAAK,qBACLC,QAAS,sBACTC,KAAM,aAER,CACEF,IAAK,sBACLC,QAAS,uBACTC,KAAM,cAIGC,EAAa,CACxB,CACEH,IAAK,wBACLC,QAAS,0BACTC,KAAM,aAER,CAAEF,IAAK,aAAcC,QAAS,cAAeC,KAAM,aACnD,CACEF,IAAK,yBACLC,QAAS,4BACTC,KAAM,aAER,CAAEF,IAAK,eAAgBC,QAAS,gBAAiBC,KAAM,aACvD,CAAEF,IAAK,cAAeC,QAAS,cAAeC,KAAM,aACpD,CACEF,IAAK,sBACLC,QAAS,uBACTC,KAAM,aAER,CACEF,IAAK,2BACLC,QAAS,8BACTC,KAAM,aAER,CACEF,IAAK,sBACLC,QAAS,wBACTC,KAAM,aAER,CACEF,IAAK,4BACLC,QAAS,8BACTC,KAAM,aAER,CAAEF,IAAK,SAAUC,QAAS,SAAUC,KAAM,aAC1C,CAAEF,IAAK,eAAgBC,QAAS,gBAAiBC,KAAM,aACvD,CAAEF,IAAK,YAAaC,QAAS,YAAaC,KAAM,aAChD,CACEF,IAAK,qBACLC,QAAS,sBACTC,KAAM,aAER,CACEF,IAAK,sBACLC,QAAS,uBACTC,KAAM,cC3EJE,EAAwB,GACxBC,EAAWN,EAAUO,QAAO,SAACC,GAAD,MAAkB,SAAXA,EAAEL,QAAiBM,OAAOL,GACnEE,EAASI,SAAQ,gBAAGT,EAAH,EAAGA,IAAKC,EAAR,EAAQA,QAAR,OAAuBG,EAAiBJ,GAAOC,KAEzD,IAAMS,EAA4B,SAAC,GAMnC,IALLC,EAKI,EALJA,KACAC,EAII,EAJJA,QAKMC,EAAUC,cAEhB,OACE,cAAC,IAAD,CACEH,KAAMA,EACNI,KAAMH,EAAQI,KAAI,SAACT,GAAD,OAAOA,EAAEP,OAC3BiB,QAAQ,OACRC,OAAQ,CAAEC,IAAK,IAAKC,MAAO,EAAGC,OAAQ,GAAIC,KAAM,KAChDC,WAAY,EACZC,SAAS,IACTC,SAAS,IACTC,aAAa,EACbC,cAAe,EACfC,QAAS,EACTC,OAAQ,CAAC,QAAS,UAAW,YAAa,aAC1CC,QAAS,CACPC,OAAQ,MACRC,SAAU,EACVC,YAAa,EACbC,cAAe,GACfC,OAAQ,GACRC,aAAc,GACdC,WAAYzB,EAAQI,KAAI,SAACT,GAAD,OAAOA,EAAEN,YAEnCqC,SAAU,CACRP,OAAQ,OACRC,SAAU,EACVC,YAAa,EACbC,aAAc,GAEhBK,aAAa,EACbC,aAAa,EACbC,UAAU,OACVC,YAAa,EACbC,gBAAiB,EACjBC,gBAAiB,CAAEC,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,MACzDC,cAAc,EACdC,eAAgB,CAAEH,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,OACxDG,SAAS,EACTC,gBAAiB,IACjBC,cAAe,EACfC,eAAe,EACfC,YAAY,YACZC,iBAAkB,EAClBC,uBAAwB,GACxBC,QAAS,SAACC,GACR,IAAMvD,EAAOG,EAASqD,MAAK,SAACnD,GAAD,OAAOA,EAAEP,MAAQyD,EAAEE,QAAMzD,KACpDW,EAAQ+C,KAAR,uBACkBH,EAAEI,KADpB,YAEa,SAAT3D,EAAkB,eAAiB,eAFvC,YAGM4D,mBAAmB1D,EAAiBqD,EAAEE,UAG9CI,MAAO,CACLC,KAAM,CACJC,MAAO,CACLC,KAAM,CACJC,SAAU,GACVC,WAAY,aAKpBC,QAAS,gBAAGV,EAAH,EAAGA,KAAME,EAAT,EAASA,KAAMS,EAAf,EAAeA,MAAf,EAAsBC,MAAtB,OACP,iCACE,iCAAS3D,EAAQ8C,MAAK,SAACnD,GAAD,OAAOA,EAAEP,MAAQ2D,KAAM1D,UAD/C,IACiE,uBAC/D,6BAAKH,EAASwE,KAFhB,IAE6B,uBAC3B,iCAAST,W,2BC5ENW,EAAkD,SAAC,GAGzD,IAFLC,EAEI,EAFJA,QACAC,EACI,EADJA,SACI,EACsCC,mBAAS,IAD/C,mBACGC,EADH,KACkBC,EADlB,KAEJ,OACE,eAACC,EAAA,EAAKC,MAAN,CAAYC,MAAO,CAAEC,UAAW,QAAhC,UACE,cAACH,EAAA,EAAKI,MAAN,oCACA,cAAC,IAAD,CACEC,GAAG,2BACHC,UAAQ,EACRV,SAAQ,+GAAE,SAACW,GACTR,EAAiBQ,GACjBX,EAASW,MAEXZ,QAASA,EACTa,YAAY,wBACZC,SAAUX,EACVY,aAAW,EACXC,UAAQ,QClBHC,EAA0D,SAAC,GAIjE,IAHLjB,EAGI,EAHJA,QACAC,EAEI,EAFJA,SACAxE,EACI,EADJA,KACI,EAC4CyE,mBAAS,IADrD,mBACGgB,EADH,KACqBC,EADrB,KAEJ,OACE,eAACd,EAAA,EAAKC,MAAN,CAAYC,MAAO,CAAEC,UAAW,QAAhC,UACE,eAACH,EAAA,EAAKI,MAAN,wBAAuBhF,EAAvB,mBACA,cAAC,IAAD,CACEiF,GAAG,2BACHU,QAAM,EACNnB,SAAQ,+GAAE,SAACW,GACTO,EAAoBP,GACpBX,EAASW,EAAE,OAEbS,SAAS,UACTrB,QAASA,EACTa,YAAW,iBAAYpF,EAAZ,OACXqF,SAAUI,EACVH,aAAW,QCvBNO,EAA4B,WACvC,IACMC,EAAa,CACjB,UACA,kBACA,uCACA,oCAEF,OACE,qBAAKtG,UAAU,yBAAf,SARmB,CAAC,QAAS,UAAW,UAAW,WASnCsB,KAAI,SAACuD,EAAO0B,GAAR,OAChB,wCAEE,sBACEjB,MAAO,CACLkB,gBAAiB3B,EACjB4B,OAAQ,kBACRC,MAAO,OACPC,OAAQ,OACRpG,QAAS,kBARf,OAYG+F,EAAWC,GAZd,qBCCKK,EAA0B,WAAO,IAAD,EACnB3B,oBAAS,GADU,mBACpC4B,EADoC,KAC9BC,EAD8B,KAGrCC,EAAc,kBAAMD,GAAQ,IAHS,EAMjB7B,mBAAS,MANQ,mBAMpC+B,EANoC,KAM7BC,EAN6B,OAOXhC,oBAAS,GAPE,mBAOpCiC,EAPoC,KAO1BC,EAP0B,OAQnBlC,mBAAqB,IARF,mBAQpChE,EARoC,KAQ9BmG,EAR8B,OASbnC,mBAAS,IATI,mBASpCF,EAToC,KAS3BsC,EAT2B,OAUDpC,mBAAwB,IAVvB,mBAUpCC,EAVoC,KAUrBC,EAVqB,OAWKF,mBAAc,MAXnB,mBAWpCgB,EAXoC,KAWlBC,EAXkB,OAYTjB,mBAAiB,aAZR,mBAYpCqC,EAZoC,KAYzBC,EAZyB,KAavCC,EACFtC,EAAcuC,OAAS,EACnBxG,EAAKL,QAAO,SAAC8G,GAAD,OAAYxC,EAAcyC,SAASD,EAAEE,SACjD3G,EAMA4G,EACkB,IALxBL,EAAeA,EAAa5G,QAAO,SAAC8G,GAAD,OACjCzB,GAA+C,IAA5ByB,EAAEzB,EAAiB3F,SAIzBmH,OAAc,IAA4B,GAAtBD,EAAaC,OAAc,IAwB9D,OAtBAK,qBAAU,WACR,IAAMC,EAAU,UAAMC,iBAAN,oBACA,cAAdV,EAA4B,OAAS,YADvB,iBAGhBW,MAAMF,GACHG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MACC,SAACG,GACChB,EAAWgB,EAAO/G,KAAI,SAACgH,GAAD,OAAYA,EAAEV,SACpCS,EAAOE,MAAK,SAACC,EAAQC,GAAT,OACVA,EAAEC,uBAAyBF,EAAEE,uBAAyB,GAAK,KAE7DtB,EAAQiB,GACRlB,GAAY,MAEd,SAACH,GACCG,GAAY,GACZF,EAASD,QAGd,CAACM,IAGF,eAAC,WAAD,WACE,cAACqB,EAAA,EAAD,CAAWC,OAAK,EAAhB,SACE,eAAC7I,EAAA,EAAD,WACE,4CACA,oBAAIC,UAAU,aAAd,uEAIA,cAAC6I,EAAA,EAAD,CAAQC,QAAQ,UAAUhF,QApDf,kBAAMgD,GAAQ,IAoDzB,yBAIA,eAACiC,EAAA,EAAD,CAAOlC,KAAMA,EAAMmC,OAAQjC,EAAakC,KAAK,KAA7C,UACE,cAACF,EAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACE,cAACJ,EAAA,EAAMK,MAAP,iCAEF,eAACL,EAAA,EAAMM,KAAP,WACE,iUAOA,qBAAKrJ,UAAU,cAAf,SACE,qBACEsJ,IAAI,GACJC,IAAG,UAAKvB,iBAAL,0BACH1C,MAAO,CAAEoB,MAAO,OAAQ8C,SAAU,SAClCxJ,UAAU,kCAEP,OAET,cAAC+I,EAAA,EAAMU,OAAP,UACE,cAACZ,EAAA,EAAD,CAAQC,QAAQ,YAAYhF,QAASiD,EAArC,6BAOR,eAAChH,EAAA,EAAD,WACE,oBAAIC,UAAU,cAAd,6BACA,qBAAKA,UAAU,yBAAf,SACE,eAAC0J,EAAA,EAAD,CAAaC,QAAM,EAAnB,UACE,cAACC,EAAA,EAAD,CACEpJ,KAAK,QACLsI,QAAQ,kBACRe,KAAK,QACLjF,MAAO,YACPkF,QAAuB,cAAdxC,EACTtC,SAAU,SAACjB,GAAD,OAAOwD,EAAaxD,EAAEgG,cAAcnF,QANhD,+BAUA,cAACgF,EAAA,EAAD,CACEpJ,KAAK,QACLsI,QAAQ,kBACRe,KAAK,QACLjF,MAAO,YACPkF,QAAuB,cAAdxC,EACTtC,SAAU,SAACjB,GAAD,OAAOwD,EAAaxD,EAAEgG,cAAcnF,QANhD,oCAYFsC,EAGA,qCACE,eAAC8C,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAAC,EAAD,CACElF,QAASA,EACTC,SAAUG,MAGd,cAAC8E,EAAA,EAAD,UACE,cAAC,EAAD,CACElF,QAAuB,cAAduC,EAA4BjH,EAAYI,EACjDuE,SAAUkB,EACV1F,KAAM8G,SAIZ,cAAC0C,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACG/E,EAAcuC,OAAS,EACtB,qBAAIzH,UAAU,cAAd,wCAEGkF,EAAc5D,KAAI,SAAC4I,EAAGC,GAAJ,OACjB,qCACG,IACD,cAACC,EAAA,EAAD,CAAOtB,QAAQ,OAAf,SAAuBoB,IACtBhF,EAAcuC,SAAW0C,EAAI,EAAI,qCAAiB,WAEnD,IARN,IASI,IACDlE,EACC,uDACsB,IACpB,cAACmE,EAAA,EAAD,CAAOtB,QAAQ,OAAf,SAAuB7C,EAAiB1F,aAExC,QAGN,qBAAIP,UAAU,cAAd,UACG,IACAiG,EACC,0EACyC,IACvC,cAACmE,EAAA,EAAD,CAAOtB,QAAQ,OAAf,SAAuB7C,EAAiB1F,aAExC,YAKZ,cAACyJ,EAAA,EAAD,CAAKhK,UAAWwH,EAAaC,OAAS,EAAI,UAAY,SAAtD,SACE,eAACwC,EAAA,EAAD,CACE3E,MAAO,CACLoB,MAAO,OACPC,OAAQkB,EAAgB,MAH5B,UAME,cAAC,EAAD,IACA,cAAC,EAAD,CACE5G,KAAMuG,EACNtG,QAAuB,cAAdoG,EAA4BjH,EAAYI,SAIvD,cAACuJ,EAAA,EAAD,CAAKhK,UAAmC,IAAxBwH,EAAaC,OAAe,UAAY,SAAxD,SACE,cAAC4C,EAAA,EAAD,CAAOvB,QAAQ,SAAf,wEAlEJ,aA0EH9B,EAAQ,SAAW,S,2BC7MbsD,EAAkD,SAAC,GAEzD,IADLC,EACI,EADJA,SACI,EACkCtF,oBAAS,GAD3C,mBACGuF,EADH,KACgBC,EADhB,OAEkCxF,oBAAS,GAF3C,mBAEGyF,EAFH,KAEgBC,EAFhB,OAG4B1F,oBAAS,GAHrC,mBAKE2F,EAAkB,CACtBC,QAAS,CAAEC,OAAQN,EAAaO,IAAKN,GACrCO,QAAS,CAAEF,OAAQJ,EAAaK,IAAKJ,GACrC1J,KAAM,CAAE6J,OARN,KAQwBC,IARxB,OA2DJ,OACE,cAACE,EAAA,EAAD,CAAQC,GAAG,QAAX,SACE,eAACnL,EAAA,EAAD,WACE,eAACkL,EAAA,EAAOE,MAAR,CAAcC,GAAIC,IAAMC,GAAG,IAA3B,UACE,qBACEhC,IAAI,GACJC,IAAG,UAAKvB,iBAAL,gBACHrB,OAAO,OACP3G,UAAU,gCACT,IACH,qBAAKA,UAAU,2CAAf,SACE,uBACEsF,MAAO,CAELiG,WAAY,kCACZC,WAAY,UAJhB,iCAOsB,uBAPtB,oBAQoB,YAIxB,eAACP,EAAA,EAAOQ,OAAR,CACEC,gBAAc,wBACd1L,UAAU,OACVQ,KAAK,SAHP,UAKE,sBAAMR,UAAU,aAChB,sBAAMA,UAAU,aAChB,sBAAMA,UAAU,gBAElB,cAACiL,EAAA,EAAOU,SAAR,CAAiBlG,GAAG,wBAApB,SACE,cAACmG,EAAA,EAAD,CACE5L,UAAU,eACV6L,UAAS,OAAEtB,QAAF,IAAEA,OAAF,EAAEA,EAAUuB,SACrBxG,MAAO,CACLiG,WAAY,kCACZC,WAAY,UALhB,SAjFK,CACX,CAAEO,KAAM,IAAKlC,KAAM,QACnB,CACEkC,KAAM,WACNlC,KAAM,UACNmC,SAAU,CACR,CAAED,KAAM,iBAAkBlC,KAAM,SAChC,CAAEkC,KAAM,wBAAyBlC,KAAM,gBACvC,CAAEkC,KAAM,mBAAoBlC,KAAM,WAClC,CACEkC,KAAM,kCACNlC,KAAM,wBAER,CAAEkC,KAAM,eAAgBlC,KAAM,OAC9B,CAAEkC,KAAM,uBAAwBlC,KAAM,kBAG1C,CACEkC,KAAM,WACNlC,KAAM,UACNmC,SAAU,CACR,CACED,KAAM,qCACNlC,KAAM,6BAER,CACEkC,KAAM,+BACNlC,KAAM,qCAER,CAAEkC,KAAM,8BAA+BlC,KAAM,wBAGjD,CACEkC,KAAM,QACNlC,KAAM,OACNmC,SAAU,CACR,CACED,KAAM,kBACNlC,KAAM,aAER,CACEkC,KAAM,mBACNlC,KAAM,cAER,CAAEkC,KAAM,uBAAwBlC,KAAM,qBA6C5BvI,KAAI,SAAC2K,GACT,GAAKA,EAASD,SAMP,CACL,IAAM1L,EAAM2L,EAASF,KAAKG,QAAQ,IAAK,IAEvC,OACE,cAACC,EAAA,EAAD,CACEC,MAAOH,EAASpC,KAEhBpE,GAAInF,EAAM,YACVuG,KAAM+D,EAAWtK,GAAKwK,OACtBuB,aAAc,kBAAMzB,EAAWtK,GAAKyK,KAAI,IACxCuB,aAAc,kBAAM1B,EAAWtK,GAAKyK,KAAI,IACxCwB,OAAQhC,EAASuB,SAASnE,SAASrH,GAPrC,SASG2L,EAASD,SAAS1K,KAAI,SAACkL,GACtB,OACE,cAACL,EAAA,EAAYM,KAAb,CACErB,GAAIC,IAEJC,GAAIkB,EAAUT,KAHhB,SAKGS,EAAU3C,MAHN2C,EAAUT,UAXhBzL,GAXT,OACE,cAACsL,EAAA,EAAIP,KAAL,CAAUD,GAAIC,IAA0BC,GAAIW,EAASF,KAArD,SACGE,EAASpC,MADaoC,EAASF,mBC1GvCW,EAAkC,WAC7C,OACE,wBAAQ1M,UAAU,iCAAlB,SACE,cAACD,EAAA,EAAD,UACE,eAACiK,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,WACE,eAACgB,EAAA,EAAOE,MAAR,CAAcC,GAAIC,IAAMC,GAAG,IAAItL,UAAU,OAAzC,UACE,qBACEsJ,IAAI,GACJC,IAAG,UAAKvB,iBAAL,sBACHrB,OAAO,OACP3G,UAAU,gCACT,IACH,qBAAKA,UAAU,yCAAf,SACE,uBACEsF,MAAO,CAELiG,WAAY,kCACZC,WAAY,UAJhB,iCAOsB,uBAPtB,oBAQoB,YAIxB,mBACEvL,KAAK,0EACLC,OAAO,SACPC,IAAI,aACJH,UAAU,yBAJZ,mDAUF,eAACiK,EAAA,EAAD,WACE,yCACA,qBAAIjK,UAAU,gBAAd,UACE,+BACG,IACD,cAAC,IAAD,CAAMsL,GAAG,iBAAiBtL,UAAU,aAApC,sBAIF,+BACG,IACD,cAAC,IAAD,CAAMsL,GAAG,wBAAwBtL,UAAU,aAA3C,6BAIF,+BACG,IACD,cAAC,IAAD,CAAMsL,GAAG,mBAAmBtL,UAAU,aAAtC,wBAKF,6BACE,cAAC,IAAD,CACEsL,GAAG,kCACHtL,UAAU,aAFZ,oCAOF,6BACE,cAAC,IAAD,CAAMsL,GAAG,eAAetL,UAAU,aAAlC,mBAIF,6BACE,cAAC,IAAD,CAAMsL,GAAG,uBAAuBtL,UAAU,aAA1C,kCAMN,eAACiK,EAAA,EAAD,WACE,yCACA,qBAAIjK,UAAU,gBAAd,UACE,+BACG,IACD,cAAC,IAAD,CACEsL,GAAG,qCACHtL,UAAU,aAFZ,0CAOF,+BACG,IACD,cAAC,IAAD,CAAMsL,GAAG,+BAA+BtL,UAAU,aAAlD,kDAIF,6BACE,cAAC,IAAD,CAAMsL,GAAG,8BAA8BtL,UAAU,aAAjD,wCAMN,eAACiK,EAAA,EAAD,WACE,sCACA,qBAAIjK,UAAU,gBAAd,UACE,+BACG,IACD,cAAC,IAAD,CAAMsL,GAAG,kBAAkBtL,UAAU,aAArC,0BAIF,+BACG,IACD,cAAC,IAAD,CAAMsL,GAAG,mBAAmBtL,UAAU,aAAtC,2BAIF,6BACE,cAAC,IAAD,CAAMsL,GAAG,uBAAuBtL,UAAU,aAA1C,4C,gBCtHV2M,EAAe,CACnB,CACEC,SACE,kQACFb,KAAM,8CACNc,IAAK,wBACLC,QAAS,yBAEX,CACEF,SACE,2LACFb,KAAM,8CACNc,IAAK,6BACLC,QAAS,8BAEX,CACEF,SACE,wOACFb,KAAM,8CACNc,IAAK,4BACLC,QAAS,6BAEX,CACEF,SACE,0JACFb,KAAM,uDACNc,IAAK,gCACLC,QAAS,iCAEX,CACEF,SACE,63BACFb,KAAM,uDACNc,IAAK,2BACLC,QAAS,gCAIAC,EAAkC,WAC7C,OACE,eAAChN,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,0BACC2M,EAAarL,KAAI,SAAC0L,GAAD,OAChB,eAAC,WAAD,WACE,8BACGA,EAAYJ,SADf,IACyB,uBACvB,mBAAG3M,KAAM+M,EAAYjB,KAAM7L,OAAO,SAASC,IAAI,aAA/C,SACG6M,EAAYjB,UAGjB,oBAAG/L,UAAU,OAAb,UACE,cAAC,IAAD,CAAiBiN,KAAMC,IAAW5H,MAAO,CAAEb,SAAU,aAAgB,IACrE,mBAAGxE,KAAI,UAAK+H,iBAAL,YAA+BgF,EAAYH,KAAlD,SACGG,EAAYF,eAVJE,EAAYH,YC3CtBM,EAA6B,WACxC,OACE,eAACpN,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,qBACA,+GAIA,4BACE,oBAAGC,KAAK,0CAAR,wBACa,cAAC,IAAD,CAAiBgN,KAAMG,eCZ/BC,EAA0B,WACrC,OACE,eAACtN,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,kCACA,scASA,qDACA,+BACE,oDACA,yFACA,oEACA,mDAEF,oVAOA,6CACA,+BACE,yGAIA,mEACA,2EACA,0HAIA,kEACA,iEACA,0FACA,+CAEF,+sBAaA,gDACA,6BACE,uEAEF,wEACA,+CACA,6BACE,mEAEF,wHAIA,gDACA,6BACE,2DAEF,2GAIA,iDACA,6BACE,qFAEF,mEACA,+CACA,6BACE,sDAEF,6EACA,+CACA,6BACE,8FAEF,uEACA,gDACA,6BACE,iFAEF,4GAIA,0CACA,6BACE,uGAIF,4NAKA,8BACG,IADH,8GChHOsN,EAAyB,WACpC,OACE,eAACvN,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,8CACA,oGAGA,ssBAYA,+DACA,+SAMA,gEACA,2EAEE,mBAAGC,KAAK,8BAA8BC,OAAO,SAASC,IAAI,aAA1D,4BAFF,yEAME,mBACEF,KAAK,8DACLC,OAAO,SACPC,IAAI,aAHN,+BANF,+GAgBA,6EACA,2UAOA,wEACA,ySAMA,yEACA,+ZAOE,mBAAGF,KAAK,0CAAR,wBAPF,WC3DOsN,EAA+B,WAC1C,OACE,eAACxN,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,mDACA,6VAME,mBAAGC,KAAK,0CAAR,wBANF,OAQA,wUAOA,+QCnBOuN,EAAiC,WAC5C,OACE,eAACzN,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,uCACA,8cASA,2CACA,+BACE,6FACA,8FACA,0JAIA,kGAGA,sEACA,iHAKF,6CACA,+BACE,uFACA,wEAEF,+uB,2BChCAyN,G,OAAuB,CAC3B,CACErB,MACE,6EACFsB,YACE,8MACFC,UAAW,CACT,CACEvB,MAAO,mCACPwB,KAAM,sCAER,CACExB,MAAO,2BACPwB,KAAM,gCAER,CACExB,MAAO,mBACPwB,KAAM,uBAER,CACExB,MAAO,8BACPwB,KAAM,kCAER,CACExB,MAAO,oBACPwB,KAAM,2BAIZ,CACExB,MAAO,2DACPsB,YACE,gaACFC,UAAW,CACT,CACEvB,MAAO,+BACPwB,KAAM,mCAER,CACExB,MAAO,+CACPwB,KAAM,oDAIZ,CACExB,MAAO,4BACPsB,YACE,gPACFC,UAAW,CACT,CACEvB,MAAO,qCACPwB,KAAM,8CAIZ,CACExB,MAAO,yBACPsB,YACE,kUACFC,UAAW,CACT,CACEvB,MAAO,kCACPwB,KAAM,2CAIZ,CACExB,MAAO,wDACPsB,YACE,+cACFC,UAAW,CACT,CACEvB,MAAO,gCACPwB,KAAM,qCAER,CACExB,MAAO,sCACPwB,KAAM,+CAMRC,EAAqB,CACzB,CACEzB,MAAO,mCACPsB,YACE,0VAEJ,CACEtB,MAAO,sBACPsB,YACE,uTACFC,UAAW,CACT,CACEvB,MAAO,kCACPwB,KAAM,2CAIZ,CACExB,MAAO,4BACPsB,YACE,4WACFC,UAAW,CACT,CACEvB,MAAO,qCACPwB,KAAM,0CAIZ,CACExB,MAAO,cACPsB,YACE,gaAEJ,CACEtB,MAAO,uCACPsB,YACE,sQAIOI,GAAwC,WACnD,OACE,eAAC/N,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAOyF,GAAG,WAAxB,sBAGA,kCACE,u3BAcE,mBACExF,KAAK,8CACLC,OAAO,SACPC,IAAI,aAHN,0BAdF,wBAwBF,eAAC4N,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,WACE,cAACD,EAAA,EAAUtC,OAAX,CAAkBL,GAAI4C,IAAK9E,OAAQ+E,SAAS,IAA5C,kCAGA,cAACF,EAAA,EAAUpC,SAAX,CAAoBsC,SAAS,IAA7B,SACE,cAACD,EAAA,EAAK3E,KAAN,UACE,6FAEE,mBACEpJ,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,mBAFF,4QAkBN,eAAC6N,EAAA,EAAD,WACE,cAACD,EAAA,EAAUtC,OAAX,CAAkBL,GAAI4C,IAAK9E,OAAQ+E,SAAS,IAA5C,+BAGA,cAACF,EAAA,EAAUpC,SAAX,CAAoBsC,SAAS,IAA7B,SACE,eAACD,EAAA,EAAK3E,KAAN,WACE,iQAMA,qBAAKrJ,UAAU,kBAAf,SACE,qBACEuJ,IAAG,UAAKvB,iBAAL,+BACHsB,IAAI,qCAIR,umDA2BE,mBACErJ,KAAK,6EACLC,OAAO,SACPC,IAAI,aAHN,gEASF,kFAEA,qOAKE,mBACEF,KAAK,iCACLC,OAAO,SACPC,IAAI,aAHN,kFAYV,oBAAIH,UAAU,YAAYyF,GAAG,eAA7B,+CAGA,oBAAIA,GAAG,gBAAP,kCACA,mOAKA,eAACyI,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACrO,UAAU,cAAxC,UACE,gCACE,+BACE,8CACA,6CACA,8CAGJ,kCACE,+BACE,0DACA,sCACA,oBAAIsO,QAAS,EAAb,SACE,sDAGJ,+BACE,uCACA,yCAEF,+BACE,wDACA,sCACA,oBAAIA,QAAS,EAAb,SACE,kDAGJ,+BACE,+CACA,yCAEF,+BACE,yDACA,sCACA,6BACE,uDAKR,cAACP,EAAA,EAAD,UACGN,EAAqBnM,KAAI,SAACiN,EAAqBhI,GAAtB,OACxB,eAACyH,EAAA,EAAD,WACE,cAACD,EAAA,EAAUtC,OAAX,CAAkBL,GAAI4C,IAAK9E,OAAQ+E,SAAQ,UAAK1H,GAAhD,SACGgI,EAAoBnC,QAEvB,cAAC2B,EAAA,EAAUpC,SAAX,CAAoBsC,SAAQ,UAAK1H,GAAjC,SACE,eAACyH,EAAA,EAAK3E,KAAN,WACE,4BAAIkF,EAAoBb,cACxB,mDACA,oBAAI1N,UAAU,gBAAd,SACGuO,EAAoBZ,UAAUrM,KAAI,SAACkN,EAAKjI,GAAN,OACjC,+BACE,cAAC,IAAD,CAEE0G,KAAMC,IACN5H,MAAO,CAAEb,SAAU,YAFd+J,EAAIZ,MAGR,IACH,mBACE3N,KAAI,UAAK+H,iBAAL,YAA+BwG,EAAIZ,MACvC1N,OAAO,SACPC,IAAI,aAHN,SAKGqO,EAAIpC,UAXT,cAAgBmC,EAAoBnC,MAApC,YAA6C7F,gBAVvD,UAAcgI,EAAoBnC,MAAlC,YAA2C7F,SA+B/C,oBAAIvG,UAAU,OAAOyF,GAAG,aAAxB,wBAGA,4kBAUA,eAACyI,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACrO,UAAU,cAAxC,UACE,gCACE,+BACE,2CACA,6CACA,+CAGJ,kCACE,+BACE,2CACA,sCACA,mDACmB,uBADnB,wBAKF,+BACE,2CACA,sCACA,kDAEF,+BACE,2CACA,oCACA,8CACc,uBADd,yBAIF,+BACE,6CACA,oCACA,4CACY,uBADZ,sBAKF,+BACE,8CACA,0CACA,mDACmB,uBADnB,4BAON,cAAC+N,EAAA,EAAD,UACGF,EAAmBvM,KAAI,SAACiN,EAAqBhI,GAAtB,OACtB,eAACyH,EAAA,EAAD,WACE,cAACD,EAAA,EAAUtC,OAAX,CAAkBL,GAAI4C,IAAK9E,OAAQ+E,SAAQ,UAAK1H,GAAhD,SACGgI,EAAoBnC,QAEvB,cAAC2B,EAAA,EAAUpC,SAAX,CAAoBsC,SAAQ,UAAK1H,GAAjC,SACE,eAACyH,EAAA,EAAK3E,KAAN,WACE,4BAAIkF,EAAoBb,cACvBa,EAAoBZ,UACnB,qCACE,mDACA,oBAAI3N,UAAU,gBAAd,SACGuO,EAAoBZ,UAAUrM,KAAI,SAACkN,EAAKjI,GAAN,OACjC,+BACE,cAAC,IAAD,CAEE0G,KAAMC,IACN5H,MAAO,CAAEb,SAAU,YAFd+J,EAAIZ,MAGR,IACH,mBACE3N,KAAI,UAAK+H,iBAAL,YAA+BwG,EAAIZ,MACvC1N,OAAO,SACPC,IAAI,aAHN,SAKGqO,EAAIpC,UAXT,cAAgB7F,YAiBpB,YA7BV,UAAcgI,EAAoBnC,MAAlC,YAA2C7F,SAmC/C,oBAAIvG,UAAU,OAAOyF,GAAG,OAAxB,qCAGA,+BACE,iDACA,gEAEF,+nBAWA,oJ,qBCncOgJ,GAAuC,WAClD,OACE,eAAC1O,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,gCACA,wUAOA,2qBAYA,sRAMA,cAAC+N,EAAA,EAAD,UACGW,GAAmBpN,KAAI,SAACqN,EAAMpI,GAAP,OACtB,eAACyH,EAAA,EAAD,WACE,cAACD,EAAA,EAAUtC,OAAX,CAAkBL,GAAI4C,IAAK9E,OAAQ+E,SAAQ,UAAK1H,GAAhD,SACGoI,EAAKvC,QAER,cAAC2B,EAAA,EAAUpC,SAAX,CAAoBsC,SAAQ,UAAK1H,GAAjC,SACE,cAACyH,EAAA,EAAK3E,KAAN,UAAYsF,EAAKC,oBAKzB,oBAAI5O,UAAU,YAAd,6CACA,cAAC+N,EAAA,EAAD,UACGc,GAAUvN,KAAI,SAACqN,EAAMpI,GAAP,OACb,eAACyH,EAAA,EAAD,WACE,cAACD,EAAA,EAAUtC,OAAX,CAAkBL,GAAI4C,IAAK9E,OAAQ+E,SAAQ,UAAK1H,GAAhD,SACGoI,EAAKvC,QAER,cAAC2B,EAAA,EAAUpC,SAAX,CAAoBsC,SAAQ,UAAK1H,GAAjC,SACE,cAACyH,EAAA,EAAK3E,KAAN,UAAYsF,EAAKC,oBAKzB,cAAC,KAAD,CAAeE,IAAI,2IAKnBJ,GAAqB,CACzB,CACEtC,MAAO,kBACPwC,QACE,qCACE,qoBAWA,yEACA,+BACE,8FACA,oGAGA,sFACA,+FACA,+DAEF,+GAIA,wsBAYA,kVAOA,maAWN,CACExC,MAAO,2BACPwC,QACE,qCACE,sXAQA,gbAaFC,GAAY,CAChB,CACEzC,MACE,8EACFwC,QACE,qCACE,+CACA,qIAIA,mDACA,uHAIA,yCACA,wZAQA,yjBAWA,iZAOE,mBAAG3O,KAAK,yDAAR,oDAPF,ubAkBA,2qBAYA,0IAGE,mBAAGA,KAAK,yEAAR,uBAHF,iBAOE,mBAAGA,KAAK,2EAAR,yBAPF,upBAwBN,CACEmM,MAAO,oCACPwC,QACE,qCACE,+CACA,iIAIA,mDACA,oGAGA,yCACA,iNAIE,mBACE3O,KAAK,+CACLC,OAAO,SACPC,IAAI,aAHN,oBAJF,kGAcA,gpBAcN,CACEiM,MAAO,4DACPwC,QACE,qCACE,+CACA,wKAIA,mDACA,+PAKE,mBACE3O,KAAK,+CACLC,OAAO,SACPC,IAAI,aAHN,oBALF,uIAkBN,CACEiM,MAAO,sCACPwC,QACE,qCACE,+CACA,gLAKA,qCACA,mDACA,gDACA,0CACA,gWAUN,CACExC,MAAO,+BACPwC,QACE,qCACE,+CACA,uFACA,kDACA,yDACA,0CACA,qUAUN,CACExC,MAAO,sBACPwC,QACE,qCACE,+CACA,+QAMA,mDACA,oJAIA,0CACA,2QAKE,mBAAG3O,KAAK,mEAAR,sBALF,4IAcN,CACEmM,MAAO,uBACPwC,QACE,qCACE,+CACA,wMAKA,uDACA,oDACA,0CACA,wUAUN,CACExC,MAAO,sBACPwC,QACE,qCACE,+CACA,iGACA,mDACA,yDACA,0CACA,sdAYN,CACExC,MAAO,gBACPwC,QACE,qCACE,+CACA,kfASA,iKAIA,gJAIA,mDACA,wKAKA,yNAKA,yCACA,qMAIE,mBACE3O,KAAK,+CACLC,OAAO,SACPC,IAAI,aAHN,oBAJF,iHC1cK4O,GAA+B,WAC1C,OACE,eAAChP,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,gCACA,mOAKA,sOAIE,mBAAGC,KAAK,+CAAR,yBAJF,OAMA,kFAEE,mBAAGA,KAAK,8BAAR,4BAFF,OAIA,6LAKA,qMAKA,gDACA,gDACA,2jBAUA,uCACA,6BACE,6BACE,mBAAGA,KAAK,oEAAR,+BAKJ,6DACA,+BACE,6BACE,mBACEA,KAAK,sGACLC,OAAO,SACPC,IAAI,aAHN,yCAQF,6BACE,mBACEF,KAAK,oGACLC,OAAO,SACPC,IAAI,aAHN,4CAQF,6BACE,mBACEF,KAAK,wFACLC,OAAO,SACPC,IAAI,aAHN,oDASJ,4EACA,+BACE,6BACE,mBACEF,KAAK,mGACLC,OAAO,SACPC,IAAI,aAHN,6CAQF,6BACE,mBACEF,KAAK,iGACLC,OAAO,SACPC,IAAI,aAHN,gDAQF,6BACE,mBACEF,KAAK,mFACLC,OAAO,SACPC,IAAI,aAHN,wDASJ,kEACA,+BACE,6BACE,mBACEF,KAAK,kGACLC,OAAO,SACPC,IAAI,aAHN,4CAQF,6BACE,mBACEF,KAAK,gGACLC,OAAO,SACPC,IAAI,aAHN,+CAQF,6BACE,mBACEF,KAAK,kFACLC,OAAO,SACPC,IAAI,aAHN,uDASJ,+CACA,6BACE,6BACE,mBACEF,KAAK,4EACLC,OAAO,SACPC,IAAI,aAHN,6CASJ,sDACA,6BACE,6BACE,mBACEF,KAAK,qFACLC,OAAO,SACPC,IAAI,aAHN,sBASJ,kDAEE,mBACEF,KAAK,gFACLC,OAAO,SACPC,IAAI,aAHN,kBAFF,iBAWA,6BACE,6BACE,mBACEF,KAAK,4EACLC,OAAO,SACPC,IAAI,aAHN,kCASJ,6BACE,mDAEF,+BACE,6BACE,mBACEF,KAAK,wEACLC,OAAO,SACPC,IAAI,aAHN,oBAQF,6BACE,mBACEF,KAAK,6HACLC,OAAO,SACPC,IAAI,aAHN,qCASJ,2CACA,6BACE,6BACE,mBACEF,KAAK,wHACLC,OAAO,SACPC,IAAI,aAHN,mCASJ,4CACA,+BACE,6BACE,mBACEF,KAAK,sIACLC,OAAO,SACPC,IAAI,aAHN,2BAQF,6BACE,mBACEF,KAAK,oIACLC,OAAO,SACPC,IAAI,aAHN,6BASJ,2GCjPO6O,GAA+B,WAC1C,OACE,eAACjP,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,wBACA,wYAOE,mBAAGC,KAAK,8BAA8BC,OAAO,SAASC,IAAI,aAA1D,wCAPF,8DAYA,+BACE,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,yCAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,kDAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,wCAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,wDAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,oCAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,iCAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,kDAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,2BAQF,6BACE,mBACEF,KAAK,4CACLC,OAAO,SACPC,IAAI,aAHN,8BASJ,8HAGE,mBAAGF,KAAK,0CAAR,wBAHF,qQCnGOgP,GAAkC,WAC7C,OACE,eAAClP,EAAA,EAAD,CAAWC,UAAU,YAArB,UACE,oBAAIA,UAAU,OAAd,4BACA,qY,mBCMAkP,GAAe,CAAC,QAAS,UAAW,UAAW,WAExCC,GAA4C,SAAC,GAEnD,IADLC,EACI,EADJA,qBACI,EACgCC,cAA9BzH,EADF,EACEA,KAAM0H,EADR,EACQA,SAAUC,EADlB,EACkBA,UACtBD,EAAWE,mBAAmBF,GAAY,IAFtC,MAG8BrK,mBAAqB,IAHnD,mBAGGwK,EAHH,KAGcC,EAHd,OAIoCzK,mBAAqB,IAJzD,mBAIG0K,EAJH,KAIiBC,EAJjB,KAyEJ,OApEA9H,qBAAU,WACRG,MAAM,GAAD,OAAID,iBAAJ,iBAAmCJ,EAAnC,SACFM,MAAK,SAACC,GAAD,OAAkB,OAARA,EAAeA,EAAI3D,OAAS,MAC3C0D,MACC,SAACG,GACC,IAAMwH,EAAaT,EAChBxO,QAAO,SAACkP,GAAD,eACNR,EACIQ,EAAQR,SAASS,iBAAjB,UAAmCT,SAAnC,aAAmC,EAAUS,eAC7CD,EAAQR,SAASS,iBAAjB,UAAmCT,SAAnC,aAAmC,EAAUS,kBAElDzO,KAAI,SAACwO,GAAD,OAAkBA,EAAQE,eAC7BC,EAAW,aAAOC,aAAS7H,IAC3BiH,IACFW,EAAcA,EAAYrP,QAAO,SAACuP,GAAD,OAC/BN,EAAWlI,SAASwI,EAAIH,iBAExBT,IACFU,EAAcA,EAAYrP,QACxB,SAACuP,GAAD,OAASA,EAAIC,uBAAyBb,MAE1C,IAAMc,EAA0B,GAC1BC,EAA2B,GACjCL,EAAYlP,SACV,YAA6D,IAA1DiP,EAAyD,EAAzDA,YAAaO,EAA4C,EAA5CA,IAAKC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,kBACxBJ,EAAmBL,KACtBK,EAAmBL,GAAe,IACpC,IAAMU,EAAiBH,EAAM,IAAMC,EAC9BF,EAAU3I,SAAS+I,IACtBJ,EAAUpM,KAAKwM,GACZL,EAAmBL,GAAaU,KACnCL,EAAmBL,GAAaU,GAAkB,GACpDL,EAAmBL,GAAaU,GAC9BL,EAAmBL,GAAaU,GAChCD,EACIA,EACAJ,EAAmBL,GAAaU,MAG1CJ,EAAU/H,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAIC,EAAI,GAAK,KACvCmH,GAAgB,iBAAM,CAAC,YAAa,SAAS9O,OAAOwP,MACpD,IAAMK,EAAeV,EAClBrP,QACC,SAACgQ,EAAGzG,EAAG3B,GAAP,OACEA,EAAElH,KAAI,SAACuP,GAAD,OAAQA,EAAGb,eAAac,QAAQF,EAAEZ,eAAiB7F,KAE5D7I,KAAI,SAACoG,GACJ,IAAMyI,EAAW,CACfH,YAAatI,EAAEsI,YACfe,UAAWrJ,EAAEsJ,cACbC,MAAOvJ,EAAE0I,qBACTc,IAAKxJ,EAAEyJ,gBAQT,OANAb,EAAUvP,SAAQ,SAACF,GACb6G,EAAEsI,cACJG,EAAItP,GAAKwP,EAAmB3I,EAAEsI,aAAanP,GACvCwP,EAAmB3I,EAAEsI,aAAanP,GAClC,MAEDsP,KAEXT,EAAaiB,MAEf,SAAC3J,GACCoK,QAAQC,IAAIrK,QAGjB,CAACsI,EAAUC,EAAWH,EAAsBxH,IAE7C,eAAC7H,EAAA,EAAD,CAAWC,UAAU,OAArB,UACE,wCACS4H,EAAM,IACb,cAACiB,EAAA,EAAD,CACEC,QAAQ,UACRG,KAAK,KACLnF,QAAS,kBACPwN,OAAOC,KAAP,oDAC+C9B,EAAU,GAAV,IAD/C,YAJJ,+CAYDH,EACC,6CAAgBA,KAEhB,6CAAgBC,KAGjBE,EAAUhI,OAAS,EAClB,qCACE,cAAC,EAAD,IACA,eAACyG,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACmD,YAAU,EAAxC,UACE,gCACE,6BACG7B,EAAarO,KAAI,SAACmQ,GAAD,OAChB,6BAAeA,GAANA,UAIf,gCACGhC,EAAUnO,KAAI,SAACsP,GAAD,OACb,oBAEEtL,MAAO,CAAEoM,OAAQ,WACjB5N,QAAS,WACPwN,OAAOC,KAAP,uFACkFX,EAAEM,IADpF,gCAC+GN,EAAEZ,eALrH,SASGL,EAAarO,KAAI,SAACmQ,EAAKtH,GAAN,MAChB,CAAC,YAAa,SAASxC,SAAS8J,GAC9B,6BAA6Bb,EAAEa,IAAtBb,EAAEZ,YAAc7F,GAEzB,oBAEE7E,MAAO,CAAEkB,gBAAiB0I,GAAa0B,EAAEa,MADpCb,EAAEZ,YAAc7F,OAbtByG,EAAEZ,wBAwBjB,cAAC3F,EAAA,EAAD,CAAOvB,QAAQ,SAAS9I,UAAU,OAAlC,oCCjDO2R,OAhFf,WACE,IAAMC,EAAoBC,YAAWvH,GAC/BwH,EAAmBD,YAAWnF,GAFvB,EAImCzH,mBAAqB,IAJxD,mBAIN8M,EAJM,KAIYC,EAJZ,KAmBb,OAbAlK,qBAAU,WACRG,MAAM,GAAD,OAAID,iBAAJ,iCACFE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MACC,SAACG,GACC2J,EAAoB3J,MAEtB,SAACrB,GACCoK,QAAQC,IAAIrK,QAGjB,IAGD,cAAC,WAAD,UACE,eAAC,IAAD,CAAYiL,SAAS,IAArB,UACE,cAACL,EAAD,IACA,sBAAM5R,UAAU,qBAAhB,SACE,cAACD,EAAA,EAAD,CAAW6I,OAAK,EAACtD,MAAO,CAAE4M,YAAa,EAAGC,aAAc,GAAxD,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW1L,IACjC,cAAC,IAAD,CAAOwL,OAAK,EAACC,KAAK,iBAAiBC,UAAWxS,IAC9C,cAAC,IAAD,CACEsS,OAAK,EACLC,KAAK,wBACLC,UAAWvF,IAEb,cAAC,IAAD,CAAOqF,OAAK,EAACC,KAAK,mBAAmBC,UAAWnF,IAChD,cAAC,IAAD,CACEiF,OAAK,EACLC,KAAK,kCACLC,UAAWjF,IAEb,cAAC,IAAD,CAAO+E,OAAK,EAACC,KAAK,eAAeC,UAAWhF,IAC5C,cAAC,IAAD,CAAO8E,OAAK,EAACC,KAAK,uBAAuBC,UAAW/E,IACpD,cAAC,IAAD,CACE6E,OAAK,EACLC,KAAK,qCACLC,UAAW9E,IAEb,cAAC,IAAD,CACE4E,OAAK,EACLC,KAAK,+BACLC,UAAWxE,KAEb,cAAC,IAAD,CACEsE,OAAK,EACLC,KAAK,8BACLC,UAAW7D,KAEb,cAAC,IAAD,CAAO2D,OAAK,EAACC,KAAK,kBAAkBC,UAAWvD,KAC/C,cAAC,IAAD,CAAOqD,OAAK,EAACC,KAAK,mBAAmBC,UAAWtD,KAChD,cAAC,IAAD,CACEoD,OAAK,EACLC,KAAK,uBACLC,UAAWrD,KAEb,cAAC,IAAD,CACEoD,KAAK,6CACLrG,SAAU,cAAC,GAAD,CAASoD,qBAAsB2C,MAE3C,cAAC,IAAD,CACEM,KAAK,8CACLrG,SAAU,cAAC,GAAD,CAASoD,qBAAsB2C,aAKjD,cAACD,EAAD,UCjFOS,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBvK,MAAK,YAAkD,IAA/CwK,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.081f4896.chunk.js","sourcesContent":["import React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const About: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5\">\n      <h1 className=\"mb-5\">About</h1>\n      <p>\n        The 3i project has established that genetics plays an important role in\n        shaping the immune system. By using a high-throughput, high-density\n        immunophenotyping platform we identified 140 genes (out of 530 screened)\n        that have an impact on the immune system when knocked out in C57BL/6N\n        mice.\n      </p>\n      <p>\n        3i conducted a broad and deep immunological phenotyping of 530 KO mouse\n        lines generated by the Wellcome Sanger Institute as part of an\n        international effort to generate and phenotype KO mouse lines for all\n        protein-coding genes (\n        <a\n          href=\"https://www.mousephenotype.org\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          IMPC\n        </a>\n        ).\n      </p>\n      <p>\n        Many of the identified genes had never been described to be involved in\n        immunological processes before, thus opening exciting new avenues to\n        study these genes in an immunological context and to link the findings\n        to other areas of physiology.\n      </p>\n      <p>\n        The phenotyping has two components, an observational and a challenge\n        screen. In the observational screen, the immune compartments of spleen,\n        blood, mesenteric lymph node and bone marrow are analysed by flow\n        cytometry, antinuclear antibodies are detected in the serum and the\n        cytotoxic capacity of spleen CD8 T cells is assessed in vitro. In the\n        challenge screen, separate cohorts of the same KO strains are challenged\n        with Salmonella, Trichuris, influenza and DSS-induced colitis.\n      </p>\n      <p>\n        In addition, these mice undergo non-immunological phenotyping within the\n        framework of the{\" \"}\n        <a\n          href=\"https://www.mousephenotype.org\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          IMPC\n        </a>\n        , ranging from tests assessing fertility, anatomical abnormalities,\n        senses, behaviour, and metabolic parameters. 3i also has two sister\n        projects,{\" \"}\n        <a href=\"https://dmdd.org.uk/\" target=\"_blank\" rel=\"noreferrer\">\n          DMDD\n        </a>{\" \"}\n        and OCBD which look at embryonic development and bone and cartilage,\n        respectively.\n      </p>\n      <p>\n        The 3i project is entirely open access and all data is available for\n        download or upon request. The project is led by King’s College London\n        and includes partners at the Sanger Wellcome Institute, Imperial\n        College, Albert Einstein College of Medicine, and the Universities of\n        Manchester, Cambridge, and Oxford. 3i is funded by the Wellcome Trust.\n      </p>\n    </Container>\n  );\n};\n","export const valueMap = [\n  \"No data\",\n  \"Not enough data\",\n  \"Not significantly different\",\n  \"Significantly different\",\n];\n\nexport const cellTypes = [\n  { key: \"alphaDeltaTCells\", display: \"γδ T cells\", type: \"cell\" },\n  { key: \"nKCells\", display: \"NK Cells\", type: \"cell\" },\n  { key: \"nktCells\", display: \"NKT Cells\", type: \"cell\" },\n  { key: \"bCellPrecursors\", display: \"B cell precursors\", type: \"cell\" },\n  { key: \"dendriticCells\", display: \"Dendritic Cells\", type: \"cell\" },\n  { key: \"granulocytes\", display: \"Granulocytes\", type: \"cell\" },\n  { key: \"tregCells\", display: \"Treg Cells\", type: \"cell\" },\n  { key: \"cD4TCells\", display: \"CD4 T Cells\", type: \"cell\" },\n  {\n    key: \"monocytesMacrophages\",\n    display: \"Monocytes / Macrophages\",\n    type: \"cell\",\n  },\n  { key: \"totalAlphBetaTCells\", display: \"Total αβ T cells\", type: \"cell\" },\n  { key: \"bCells\", display: \"B cells\", type: \"cell\" },\n  { key: \"cd8TCells\", display: \"CD8 T Cells\", type: \"cell\" },\n  { key: \"dSSChallenge\", display: \"DSS Challenge\", type: \"procedure\" },\n  { key: \"influenza\", display: \"Influenza\", type: \"procedure\" },\n  {\n    key: \"trichurisChallenge\",\n    display: \"Trichuris Challenge\",\n    type: \"procedure\",\n  },\n  {\n    key: \"salmonellaChallenge\",\n    display: \"Salmonella Challenge\",\n    type: \"procedure\",\n  },\n];\n\nexport const procedures = [\n  {\n    key: \"antinuclearAntibodies\",\n    display: \"Anti-nuclear Antibodies\",\n    type: \"procedure\",\n  },\n  { key: \"boneMarrow\", display: \"Bone Marrow\", type: \"procedure\" },\n  {\n    key: \"cytotoxicTCellFunction\",\n    display: \"Cytotoxic T Cell Function\",\n    type: \"procedure\",\n  },\n  { key: \"earEpidermis\", display: \"Ear Epidermis\", type: \"procedure\" },\n  { key: \"haematology\", display: \"Haematology\", type: \"procedure\" },\n  {\n    key: \"homozygousFertility\",\n    display: \"Homozygous Fertility\",\n    type: \"procedure\",\n  },\n  {\n    key: \"homozygousViabilityAtP14\",\n    display: \"Homozygous viability at P14\",\n    type: \"procedure\",\n  },\n  {\n    key: \"mesentericLymphNode\",\n    display: \"Mesenteric Lymph Node\",\n    type: \"procedure\",\n  },\n  {\n    key: \"peripheralBloodLeukocytes\",\n    display: \"Peripheral Blood Leukocytes\",\n    type: \"procedure\",\n  },\n  { key: \"spleen\", display: \"Spleen\", type: \"procedure\" },\n  { key: \"dSSChallenge\", display: \"DSS Challenge\", type: \"procedure\" },\n  { key: \"influenza\", display: \"Influenza\", type: \"procedure\" },\n  {\n    key: \"trichurisChallenge\",\n    display: \"Trichuris Challenge\",\n    type: \"procedure\",\n  },\n  {\n    key: \"salmonellaChallenge\",\n    display: \"Salmonella Challenge\",\n    type: \"procedure\",\n  },\n];\n","// @ts-nocheck\n// install (please make sure versions match peerDependencies)\n// yarn add @nivo/core @nivo/heatmap\nimport { ResponsiveHeatMapCanvas } from \"@nivo/heatmap\";\nimport \"./Heatmap.scss\";\nimport { valueMap, cellTypes, procedures } from \"./Constants\";\nimport { useHistory } from \"react-router-dom\";\n\nconst cellTypeLabelMap: any = {};\nconst colTypes = cellTypes.filter((c) => c.type === \"cell\").concat(procedures);\ncolTypes.forEach(({ key, display }) => (cellTypeLabelMap[key] = display));\n\nexport const MyResponsiveHeatMapCanvas = ({\n  data,\n  columns,\n}: {\n  data: any;\n  columns: Array<any>;\n}) => {\n  const history = useHistory();\n\n  return (\n    <ResponsiveHeatMapCanvas\n      data={data}\n      keys={columns.map((c) => c.key)}\n      indexBy=\"gene\"\n      margin={{ top: 230, right: 0, bottom: 50, left: 120 }}\n      pixelRatio={1}\n      minValue=\"0\"\n      maxValue=\"3\"\n      forceSquare={false}\n      sizeVariation={0}\n      padding={1}\n      colors={[\"white\", \"#acacac\", \"#0a49b5cd\", \"#b50a29c4\"]}\n      axisTop={{\n        orient: \"top\",\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: -90,\n        legend: \"\",\n        legendOffset: 36,\n        tickValues: columns.map((c) => c.display),\n      }}\n      axisLeft={{\n        orient: \"left\",\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n      }}\n      enableGridX={false}\n      enableGridY={true}\n      cellShape=\"rect\"\n      cellOpacity={1}\n      cellBorderWidth={0}\n      cellBorderColor={{ from: \"color\", modifiers: [[\"darker\", 0.4]] }}\n      enableLabels={false}\n      labelTextColor={{ from: \"color\", modifiers: [[\"darker\", 1.4]] }}\n      animate={true}\n      motionStiffness={120}\n      motionDamping={9}\n      isInteractive={true}\n      hoverTarget=\"rowColumn\"\n      cellHoverOpacity={1}\n      cellHoverOthersOpacity={0.5}\n      onClick={(e) => {\n        const type = colTypes.find((c) => c.key === e.xKey).type;\n        history.push(\n          `data/details/${e.yKey}/${\n            type === \"cell\" ? \"by-cell-type\" : \"by-procedure\"\n          }/${encodeURIComponent(cellTypeLabelMap[e.xKey])}`\n        );\n      }}\n      theme={{\n        axis: {\n          ticks: {\n            text: {\n              fontSize: 14,\n              fontSmooth: \"always\",\n            },\n          },\n        },\n      }}\n      tooltip={({ xKey, yKey, value, color }) => (\n        <span>\n          <strong>{columns.find((c) => c.key === xKey).display}</strong> <br />\n          <em>{valueMap[value]}</em> <br />\n          <strong>{yKey}</strong>\n        </span>\n      )}\n    />\n  );\n};\n","// @ts-nocheck\nimport React, { FunctionComponent, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\n\nexport interface IGeneFilterProps {\n  options: Array<string>;\n  onChange(options: Array<string>): any;\n}\n\nexport const GeneFilter: FunctionComponent<IGeneFilterProps> = ({\n  options,\n  onChange,\n}) => {\n  const [selectedGenes, setSelectedGenes] = useState([]);\n  return (\n    <Form.Group style={{ marginTop: \"20px\" }}>\n      <Form.Label>Filter by gene symbol</Form.Label>\n      <Typeahead\n        id=\"basic-typeahead-multiple\"\n        multiple\n        onChange={(s) => {\n          setSelectedGenes(s);\n          onChange(s);\n        }}\n        options={options}\n        placeholder=\"Select gene symbol...\"\n        selected={selectedGenes}\n        clearButton\n        allowNew\n      />\n    </Form.Group>\n  );\n};\n","// @ts-nocheck\nimport React, { FunctionComponent, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\n\nexport interface ICellTypeFilterProps {\n  options: Array<any>;\n  onChange(options: string): any;\n  type: string;\n}\n\nexport const CellTypeFilter: FunctionComponent<ICellTypeFilterProps> = ({\n  options,\n  onChange,\n  type,\n}) => {\n  const [selectedCellType, setSelectedCellType] = useState([]);\n  return (\n    <Form.Group style={{ marginTop: \"20px\" }}>\n      <Form.Label>Filter by {type} significance</Form.Label>\n      <Typeahead\n        id=\"basic-typeahead-multiple\"\n        single\n        onChange={(s) => {\n          setSelectedCellType(s);\n          onChange(s[0]);\n        }}\n        labelKey=\"display\"\n        options={options}\n        placeholder={`Select ${type}...`}\n        selected={selectedCellType}\n        clearButton\n      />\n    </Form.Group>\n  );\n};\n","import {\n  faCircle,\n  faDotCircle,\n  faSquare,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { FunctionComponent } from \"react\";\n\nexport const Legend: FunctionComponent = () => {\n  const getCellColor = [\"white\", \"#acacac\", \"#416ec5\", \"#c9505d\"];\n  const colorlabel = [\n    \"No data\",\n    \"Not enough data\",\n    \"Not significantly different WT vs KO\",\n    \"Significantly Different WT vs KO\",\n  ];\n  return (\n    <div className=\"my-3 w-100 text-center\">\n      {getCellColor.map((color, index) => (\n        <span>\n          &nbsp;\n          <span\n            style={{\n              backgroundColor: color,\n              border: \"solid 1px black\",\n              width: \"12px\",\n              height: \"12px\",\n              display: \"inline-block\",\n            }}\n          ></span>\n          &nbsp;\n          {colorlabel[index]}\n          &nbsp; &nbsp;\n        </span>\n      ))}\n    </div>\n  );\n};\n","import React, { Fragment, FunctionComponent, useEffect, useState } from \"react\";\nimport {\n  Badge,\n  Button,\n  Col,\n  Container,\n  Jumbotron,\n  Modal,\n  Row,\n  Alert,\n  ButtonGroup,\n  ToggleButton,\n} from \"react-bootstrap\";\nimport { MyResponsiveHeatMapCanvas } from \"./Heatmap\";\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\nimport { GeneFilter } from \"./GeneFilter\";\nimport { CellTypeFilter } from \"./CellTypeFilter\";\nimport { cellTypes, procedures } from \"./Constants\";\nimport { Legend } from \"./Legend\";\n\nexport const Home: FunctionComponent = () => {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [data, setData] = useState<Array<any>>([]);\n  const [options, setOptions] = useState([]);\n  const [selectedGenes, setSelectedGenes] = useState<Array<string>>([]);\n  const [selectedCellType, setSelectedCellType] = useState<any>(null);\n  const [exploreBy, setExploreBy] = useState<string>(\"cell-type\");\n  let filteredData: Array<any> =\n    selectedGenes.length > 0\n      ? data.filter((d: any) => selectedGenes.includes(d.gene))\n      : data;\n\n  filteredData = filteredData.filter((d) =>\n    selectedCellType ? d[selectedCellType.key] === 3 : true\n  );\n\n  const heatmapHeight =\n    filteredData.length * 20 > 500 ? filteredData.length * 20 : 500;\n\n  useEffect(() => {\n    const heatmapUrl = `${process.env.PUBLIC_URL}/three-i-${\n      exploreBy === \"cell-type\" ? \"cell\" : \"procedure\"\n    }-heatmap.json`;\n    fetch(heatmapUrl)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          setOptions(result.map((r: any) => r.gene));\n          result.sort((a: any, b: any) =>\n            b.totalSignificanceScore > a.totalSignificanceScore ? 1 : -1\n          );\n          setData(result);\n          setIsLoaded(true);\n        },\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      );\n  }, [exploreBy]);\n\n  return (\n    <Fragment>\n      <Jumbotron fluid>\n        <Container>\n          <h1>3i Project</h1>\n          <h3 className=\"text-muted\">\n            Over 300 Immunological Phenotypes and 500 Mouse KO Lines!\n          </h3>\n\n          <Button variant=\"primary\" onClick={handleShow}>\n            Learn more!\n          </Button>\n\n          <Modal show={show} onHide={handleClose} size=\"xl\">\n            <Modal.Header closeButton>\n              <Modal.Title>Project overview</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <p>\n                The 3i project has established that genetics plays an important\n                role in shaping the immune system. By using a high-throughput,\n                high-density immunophenotyping platform we identified 140 genes\n                (out of 530 screened) that have an impact on the immune system\n                when knocked out in C57BL/6N mice.\n              </p>\n              <div className=\"text-center\">\n                <img\n                  alt=\"\"\n                  src={`${process.env.PUBLIC_URL}/project_overview.jpeg`}\n                  style={{ width: \"100%\", maxWidth: \"800px\" }}\n                  className=\"d-inline-block align-middle\"\n                />\n              </div>{\" \"}\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={handleClose}>\n                Close\n              </Button>\n            </Modal.Footer>\n          </Modal>\n        </Container>\n      </Jumbotron>\n      <Container>\n        <h1 className=\"text-center\">Explore 3i data</h1>\n        <div className=\"w-100 text-center my-5\">\n          <ButtonGroup toggle>\n            <ToggleButton\n              type=\"radio\"\n              variant=\"outline-primary\"\n              name=\"radio\"\n              value={\"cell-type\"}\n              checked={exploreBy === \"cell-type\"}\n              onChange={(e) => setExploreBy(e.currentTarget.value)}\n            >\n              View by cell type\n            </ToggleButton>\n            <ToggleButton\n              type=\"radio\"\n              variant=\"outline-primary\"\n              name=\"radio\"\n              value={\"procedure\"}\n              checked={exploreBy === \"procedure\"}\n              onChange={(e) => setExploreBy(e.currentTarget.value)}\n            >\n              View by procedure\n            </ToggleButton>\n          </ButtonGroup>\n        </div>\n        {!isLoaded ? (\n          \"loading\"\n        ) : (\n          <>\n            <Row>\n              <Col>\n                <GeneFilter\n                  options={options}\n                  onChange={setSelectedGenes}\n                ></GeneFilter>\n              </Col>\n              <Col>\n                <CellTypeFilter\n                  options={exploreBy === \"cell-type\" ? cellTypes : procedures}\n                  onChange={setSelectedCellType}\n                  type={exploreBy}\n                ></CellTypeFilter>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                {selectedGenes.length > 0 ? (\n                  <h5 className=\"text-center\">\n                    Showing data for genes in [\n                    {selectedGenes.map((g, i) => (\n                      <>\n                        {\" \"}\n                        <Badge variant=\"info\">{g}</Badge>\n                        {selectedGenes.length !== i + 1 ? <span>,</span> : null}\n                      </>\n                    ))}{\" \"}\n                    ]{\" \"}\n                    {selectedCellType ? (\n                      <span>\n                        and significant for{\" \"}\n                        <Badge variant=\"info\">{selectedCellType.display}</Badge>\n                      </span>\n                    ) : null}\n                  </h5>\n                ) : (\n                  <h5 className=\"text-center\">\n                    {\" \"}\n                    {selectedCellType ? (\n                      <span>\n                        Showing data for genes significant for{\" \"}\n                        <Badge variant=\"info\">{selectedCellType.display}</Badge>\n                      </span>\n                    ) : null}\n                  </h5>\n                )}\n              </Col>\n            </Row>\n            <Row className={filteredData.length > 0 ? \"d-block\" : \"d-none\"}>\n              <Col\n                style={{\n                  width: \"100%\",\n                  height: heatmapHeight + \"px\",\n                }}\n              >\n                <Legend></Legend>\n                <MyResponsiveHeatMapCanvas\n                  data={filteredData}\n                  columns={exploreBy === \"cell-type\" ? cellTypes : procedures}\n                ></MyResponsiveHeatMapCanvas>\n              </Col>\n            </Row>\n            <Row className={filteredData.length === 0 ? \"d-block\" : \"d-none\"}>\n              <Alert variant=\"danger\">\n                No matching data for your filters, try changing them!\n              </Alert>\n            </Row>\n          </>\n        )}\n      </Container>\n\n      {error ? \"error!\" : null}\n    </Fragment>\n  );\n};\n","import React, { FunctionComponent, useState } from \"react\";\nimport { Navbar, Container, Nav, NavDropdown } from \"react-bootstrap\";\nimport { RouteComponentProps } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nexport const MainNav: FunctionComponent<RouteComponentProps> = ({\n  location,\n}) => {\n  const [showProject, setShowProject] = useState(false);\n  const [showMethods, setShowMethods] = useState(false);\n  const [showData, setShowData] = useState(false);\n\n  const menuStates: any = {\n    project: { status: showProject, set: setShowProject },\n    methods: { status: showMethods, set: setShowMethods },\n    data: { status: showData, set: setShowData },\n  };\n\n  const menu = [\n    { link: \"/\", name: \"Home\" },\n    {\n      link: \"/project\",\n      name: \"Project\",\n      children: [\n        { link: \"/project/about\", name: \"About\" },\n        { link: \"/project/publications\", name: \"Publications\" },\n        { link: \"/project/contact\", name: \"Contact\" },\n        {\n          link: \"/project/team-and-collaborators\",\n          name: \"Team & Collaborators\",\n        },\n        { link: \"/project/faq\", name: \"FAQ\" },\n        { link: \"/project/how-to-cite\", name: \"How to cite?\" },\n      ],\n    },\n    {\n      link: \"/methods\",\n      name: \"Methods\",\n      children: [\n        {\n          link: \"/methods/strengths-and-limitations\",\n          name: \"Strengths and Limitations\",\n        },\n        {\n          link: \"/methods/experimental-design\",\n          name: \"Experimental Design and Protocols\",\n        },\n        { link: \"/methods/statistical-design\", name: \"Statistical Design\" },\n      ],\n    },\n    {\n      link: \"/data\",\n      name: \"Data\",\n      children: [\n        {\n          link: \"/data/downloads\",\n          name: \"Downloads\",\n        },\n        {\n          link: \"/data/flow-files\",\n          name: \"Flow files\",\n        },\n        { link: \"/data/new-cell-types\", name: \"New cell types\" },\n      ],\n    },\n  ];\n  return (\n    <Navbar bg=\"light\">\n      <Container>\n        <Navbar.Brand as={Link} to=\"/\">\n          <img\n            alt=\"\"\n            src={`${process.env.PUBLIC_URL}/3i-icon.png`}\n            height=\"60px\"\n            className=\"d-inline-block align-middle\"\n          />{\" \"}\n          <div className=\"d-inline-block align-middle text-primary\">\n            <span\n              style={{\n                //fontVariant: \"small-caps\",\n                fontFamily: \"'Merriweather Sans', sans-serif\",\n                fontWeight: \"bolder\",\n              }}\n            >\n              Infection, Immunity <br />\n              Immunophenotyping{\" \"}\n            </span>\n          </div>\n        </Navbar.Brand>\n        <Navbar.Toggle\n          aria-controls=\"responsive-navbar-nav\"\n          className=\"uarr\"\n          type=\"button\"\n        >\n          <span className=\"icon-bar\"></span>\n          <span className=\"icon-bar\"></span>\n          <span className=\"icon-bar\"></span>\n        </Navbar.Toggle>\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav\n            className=\"ml-auto text\"\n            activeKey={location?.pathname}\n            style={{\n              fontFamily: \"'Merriweather Sans', sans-serif\",\n              fontWeight: \"bolder\",\n            }}\n          >\n            {menu.map((menuItem) => {\n              if (!menuItem.children) {\n                return (\n                  <Nav.Link as={Link} key={menuItem.link} to={menuItem.link}>\n                    {menuItem.name}\n                  </Nav.Link>\n                );\n              } else {\n                const key = menuItem.link.replace(\"/\", \"\");\n\n                return (\n                  <NavDropdown\n                    title={menuItem.name}\n                    key={key}\n                    id={key + \"-dropdown\"}\n                    show={menuStates[key].status}\n                    onMouseEnter={() => menuStates[key].set(true)}\n                    onMouseLeave={() => menuStates[key].set(false)}\n                    active={location.pathname.includes(key)}\n                  >\n                    {menuItem.children.map((childItem) => {\n                      return (\n                        <NavDropdown.Item\n                          as={Link}\n                          key={childItem.link}\n                          to={childItem.link}\n                        >\n                          {childItem.name}\n                        </NavDropdown.Item>\n                      );\n                    })}\n                  </NavDropdown>\n                );\n              }\n            })}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Container, Row, Col, Navbar } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nexport const ThreeiFooter: FunctionComponent = () => {\n  return (\n    <footer className=\"footer py-5 bg-dark text-light\">\n      <Container>\n        <Row>\n          <Col>\n            <Navbar.Brand as={Link} to=\"/\" className=\"mb-2\">\n              <img\n                alt=\"\"\n                src={`${process.env.PUBLIC_URL}/3i-icon-white.png`}\n                height=\"60px\"\n                className=\"d-inline-block align-middle\"\n              />{\" \"}\n              <div className=\"d-inline-block align-middle text-white\">\n                <span\n                  style={{\n                    //fontVariant: \"small-caps\",\n                    fontFamily: \"'Merriweather Sans', sans-serif\",\n                    fontWeight: \"bolder\",\n                  }}\n                >\n                  Infection, Immunity <br />\n                  Immunophenotyping{\" \"}\n                </span>\n              </div>\n            </Navbar.Brand>\n            <a\n              href=\"https://www.ebi.ac.uk/data-protection/privacy-notice/mousephenotype-org\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className=\"text-light text-center\"\n            >\n              Data protection and Privacy Notice\n            </a>\n          </Col>\n\n          <Col>\n            <h4>Project</h4>\n            <ul className=\"list-unstyled\">\n              <li>\n                {\" \"}\n                <Link to=\"/project/about\" className=\"text-light\">\n                  About\n                </Link>\n              </li>\n              <li>\n                {\" \"}\n                <Link to=\"/project/publications\" className=\"text-light\">\n                  Publications\n                </Link>\n              </li>\n              <li>\n                {\" \"}\n                <Link to=\"/project/contact\" className=\"text-light\">\n                  Contact\n                </Link>\n              </li>\n\n              <li>\n                <Link\n                  to=\"/project/team-and-collaborators\"\n                  className=\"text-light\"\n                >\n                  Team &amp; Collaborators\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/project/faq\" className=\"text-light\">\n                  FAQ\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/project/how-to-cite\" className=\"text-light\">\n                  How to cite?\n                </Link>\n              </li>\n            </ul>\n          </Col>\n          <Col>\n            <h4>Methods</h4>\n            <ul className=\"list-unstyled\">\n              <li>\n                {\" \"}\n                <Link\n                  to=\"/methods/strengths-and-limitations\"\n                  className=\"text-light\"\n                >\n                  Strengths and Limitations\n                </Link>\n              </li>\n              <li>\n                {\" \"}\n                <Link to=\"/methods/experimental-design\" className=\"text-light\">\n                  Experimental Design and Protocols\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/methods/statistical-design\" className=\"text-light\">\n                  Statistical Design\n                </Link>\n              </li>\n            </ul>\n          </Col>\n          <Col>\n            <h4>Data</h4>\n            <ul className=\"list-unstyled\">\n              <li>\n                {\" \"}\n                <Link to=\"/data/downloads\" className=\"text-light\">\n                  Downloads\n                </Link>\n              </li>\n              <li>\n                {\" \"}\n                <Link to=\"/data/flow-files\" className=\"text-light\">\n                  Flow files\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/data/new-cell-types\" className=\"text-light\">\n                  New cell types\n                </Link>\n              </li>\n            </ul>\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n};\n","import { faFilePdf } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { Fragment, FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nconst publications = [\n  {\n    citation:\n      \"Bradley et al (2012) Mammalian Genome 23, 580-6. The mammalian gene function resource: the International Knockout Mouse Consortium. This paper gives an overview of the ES cell resources available through the International Knockout mouse consortium (IKMC).\",\n    link: \"http://www.ncbi.nlm.nih.gov/pubmed/22968824\",\n    pdf: \"bradley_2012_IKMC.pdf\",\n    pdfName: \"Bradley 2012 IKMC.pdf\",\n  },\n  {\n    citation:\n      \"Skarnes et al. (2011) Nature, 474, 337-42. A conditional knockout resource for the genome-wide study of mouse gene function. This paper describes the knockout strategy across the IMPC.\",\n    link: \"http://www.ncbi.nlm.nih.gov/pubmed/21677750\",\n    pdf: \"skarnes_2011_KO_design.pdf\",\n    pdfName: \"Skarnes 2011 KO design.pdf\",\n  },\n  {\n    citation:\n      \"White et al. (2013) Cell, 154, 452-64. Genome-wide generation and systematic phenotyping of knockout mice reveals new roles for many genes. This paper contains an overview over the first 250 lines phenotyped in the WTSI pipeline.\",\n    link: \"http://www.ncbi.nlm.nih.gov/pubmed/23870131\",\n    pdf: \"white_2013_MPG_screen.pdf\",\n    pdfName: \"White 2013 MPG screen.pdf\",\n  },\n  {\n    citation:\n      \"Brown and Moore (2012) Mammalian Genome, 23, 632-60. The International Mouse Phenotyping Consortium: past and future perspectives on mouse phenotyping.\",\n    link: \"http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3774932/\",\n    pdf: \"brown_and_moore_2012_IMPC.pdf\",\n    pdfName: \"Brown and Moore 2012 IMPC.pdf\",\n  },\n  {\n    citation:\n      \"Abeler-Dörner L, Laing AG, Lorenc A, Ushakov DS, Clare S, Speak AO, Duque-Correa MA, White JK, Ramirez-Solis R, Saran N, Bull KR, Morón B, Iwasaki J, Barton PR, Caetano S, Hng KI, Cambridge E, Forman S, Crockford TL, Griffiths M, Kane L, Harcourt K, Brandt C, Notley G, Babalola KO, Warren J, Mason JC, Meeniga A, Karp NA, Melvin D, Cawthorne E, Weinrick B, Rahim A, Drissler S, Meskas J, Yue A, Lux M, Song-Zhao GX, Chan A, Ballesteros Reviriego C, Abeler J, Wilson H, Przemska-Kosicka A, Edmans M, Strevens N, Pasztorek M, Meehan TF, Powrie F, Brinkman R, Dougan G, Jacobs W Jr, Lloyd CM, Cornall RJ, Maloy KJ, Grencis RK, Griffiths GM, Adams DJ, Hayday AC. High-throughput phenotyping reveals expansive genetic and structural underpinnings of immune variation. Nat Immunol. 2020 Jan;21(1):86-100. doi: 10.1038/s41590-019-0549-0. Epub 2019 Dec 16. PMID: 31844327; PMCID: PMC7338221.\",\n    link: \"http://www.ncbi.nlm.nih.gov/pmc/articles/PMC7338221/\",\n    pdf: \"Abeler-Dorner - 2020.pdf\",\n    pdfName: \"Abeler-Dörner - 2020.pdf\",\n  },\n];\n\nexport const Publications: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">Publications</h1>\n      {publications.map((publication) => (\n        <Fragment key={publication.pdf}>\n          <p>\n            {publication.citation} <br />\n            <a href={publication.link} target=\"_blank\" rel=\"noreferrer\">\n              {publication.link}\n            </a>\n          </p>\n          <p className=\"mb-5\">\n            <FontAwesomeIcon icon={faFilePdf} style={{ fontSize: \"x-large\" }} />{\" \"}\n            <a href={`${process.env.PUBLIC_URL}/${publication.pdf}`}>\n              {publication.pdfName}\n            </a>\n          </p>\n        </Fragment>\n      ))}\n    </Container>\n  );\n};\n","import { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const Contact: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">Contact</h1>\n      <p>\n        For questions about 3i, please contact project manager Lucie\n        Abeler-Dörner.\n      </p>\n      <p>\n        <a href=\"mailto:lucie.abeler-dorner@bdi.ox.ac.uk\">\n          Send email <FontAwesomeIcon icon={faEnvelope} />\n        </a>\n      </p>\n    </Container>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const Team: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">Team &amp; Collaborators</h1>\n      <p>\n        This project wouldn&rsquo;t have been possible without the contribution\n        of many, many people. In total, almost 30 people have been employed on\n        this project, some for a maternity leave only, some for well over 5\n        years and counting, working on it for well over 80 years total. And that\n        doesn&rsquo;t even include all the time that PIs and senior staff\n        members put in. Thank you to everybody for your hard work and\n        dedication.\n      </p>\n      <h2>Team King's College</h2>\n      <ul>\n        <li>Project management</li>\n        <li>Flow-cytometric analysis of spleen, MLN and bone marrow</li>\n        <li>Confocal analysis of ear epidermis</li>\n        <li>Bioinformatics</li>\n      </ul>\n      <p>\n        Adrian Hayday (Lead-PI), Lucie Abeler-D&ouml;rner (project manager and\n        team leader), Adam Laing (flow), Dmitry Ushakov (microscopy), Anna\n        Lorenc (bioinformatics), Namita Saran (flow), Keng Imm Hng (microscopy\n        and flow), Susana Caetano (flow and microscopy), Anna Chan (flow),\n        Agnieszka Przemska-Kosicka (flow)\n      </p>\n      <h2>Team Sanger</h2>\n      <ul>\n        <li>\n          Breeding, maintaining of all mice, collection of all organs and\n          samples\n        </li>\n        <li>Flow-cytometric analysis of blood</li>\n        <li>Haematology and blood biochemistry (IMPC)</li>\n        <li>\n          Performance of all challenge experiments (Salmonella, DSS colitis,\n          influenza, Trichuris)\n        </li>\n        <li>Analysis of Salmonella challenge</li>\n        <li>Analysis of Trichuris challenge</li>\n        <li>Maintenance of database / export of all data to the IMPC</li>\n        <li>Statistics</li>\n      </ul>\n      <p>\n        David Adams (Lead-PI), Gordon Dougan (PI), Jacqui White (Mouse Genetics\n        Project), Ramiro Ramirez-Solis (Mouse Genetics Project), Annie Speak\n        (blood, haematology and blood biochemistry (BHBB)), Simon Clare\n        (challenge experiments, Salmonella), Maria Duque (Trichuris), Emma\n        Cambridge (BHBB), Susana Caetano (BHBB), Carmen Ballesteros Reviriego\n        (BHBB), Heather Wilson (BHBB), Leanne Kane (Salmonella), Katherine\n        Harcourt (challenge experiments), Cordelia Brandt (challenge\n        experiments), George Notley (mouse maintenance), Natasha Strevens\n        (BHBB), Mark Griffiths (database), David Melvin (database), Natasha Karp\n        (statistics) and many, many people working in mouse breeding and\n        maintenance.\n      </p>\n      <h2>Team Cambridge</h2>\n      <ul>\n        <li>Cytotoxicity of splenic CD8 T cells</li>\n      </ul>\n      <p>Gillian Griffiths (PI), Philippa Barton</p>\n      <h2>Team Oxford I</h2>\n      <ul>\n        <li>Antinuclear antibodies in serum</li>\n      </ul>\n      <p>\n        Richard Cornall (PI), Katherine Bull, Tanya Cheetham, Eleanor Cawthorne,\n        Matthew Edmans\n      </p>\n      <h2>Team Oxford II</h2>\n      <ul>\n        <li>Analysis of DSS colitis</li>\n      </ul>\n      <p>\n        Kevin Maloy (PI), Fiona Powrie, Bel&eacute;n Mor&oacute;n-Flores, George\n        Song-Zhao\n      </p>\n      <h2>Team Manchester</h2>\n      <ul>\n        <li>Preparation of Trichuris eggs, Trichuris analysis</li>\n      </ul>\n      <p>Richard Grencis (PI), Simon Forman</p>\n      <h2>Team Imperial</h2>\n      <ul>\n        <li>Influenza analysis</li>\n      </ul>\n      <p>Clare Lloyd (PI), Jua Iwasaki, Faith Uwadiae</p>\n      <h2>Team New York</h2>\n      <ul>\n        <li>Tuberculosis and hepatitis C infection of selected strains</li>\n      </ul>\n      <p>William Jacobs Jr (PI), Brian Weinrick</p>\n      <h2>Team Vancouver</h2>\n      <ul>\n        <li>Semi-automated and unsupervised flow analysis</li>\n      </ul>\n      <p>\n        Ryan Brinkman (PI), Albina Rahim, Sybil Drissler, Justin Meskas, Alice\n        Yue.\n      </p>\n      <h2>Team EBI</h2>\n      <ul>\n        <li>\n          Website development, integration with IMPC website, data management\n        </li>\n      </ul>\n      <p>\n        Terry Meehan (PI), Jonathan Warren (project lead, data integration, web\n        development), Kola Babalola (data integration), Jeremy Mason (data\n        integration), Amrutha Meeniga (web development).\n      </p>\n      <p>\n        {\" \"}\n        The redesign and re-implementation of the website was completely done by\n        Federico López Gómez.\n      </p>\n    </Container>\n  );\n};\n","import { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const Faq: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">FAQ - Frequently Asked Questions</h1>\n      <h3>\n        There is no such thing as a free lunch, so where&rsquo;s the catch?\n      </h3>\n      <p>\n        There is no catch. The Wellcome Trust has invested this money to create\n        a resource for the scientific community. In fact, we are not only paid\n        to conduct the phenotyping but also to promote the uptake of mouse lines\n        and the use of the phenotyping data we generate so please use this\n        resource and let us know if you have any questions. Of course, the data\n        is freely available, so your competitor will be able to look at it, too.\n        We still think you get a really good deal by combining our data with\n        your expert knowledge to create new hypotheses and by taking on\n        gold-standard knockout mouse lines which have undergone stringent\n        quality control from ES cells to final genotyping.\n      </p>\n      <h3>Can I order mice or ES cells?</h3>\n      <p>\n        The 3i consortium does not distribute any material itself, but mice and\n        ES cells can be obtained from the International Mouse Phenotyping\n        Consortium (IMPC). Type your gene of interest into the search box on\n        www.mousephenotype.org and follow the link to ES cells or mice.\n      </p>\n      <h3>How can I access the raw data?</h3>\n      <p>\n        FCS files will shortly be available on&nbsp;\n        <a href=\"https://flowrepository.org/\" target=\"_blank\" rel=\"noreferrer\">\n          FlowRepository\n        </a>\n        . DSS histology, ANA and ear epidermis images are available on the&nbsp;\n        <a\n          href=\"https://dev.mousephenotype.org/data/search/impc_images?kw=*\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          IMPC image portal\n        </a>\n        . Most of the remaining data can be downloaded as csv file in the Data\n        Downloads section on this webpage.\n      </p>\n      <h3>Can I use 3i protocols for my own research?</h3>\n      <p>\n        Yes, the project is entirely open access. Protocols can be found in the\n        Methods section. Please acknowledge the use of 3i protocols in your\n        grants, posters, talks and publications: &ldquo;The protocol was\n        developed by the 3i consortium (www.immunophenotype.org); Wellcome Trust\n        grant [100156].&rdquo;\n      </p>\n      <h3>Can I use 3i data in a grant or paper?</h3>\n      <p>\n        Yes, the data is also open access. It is mandatory to acknowledge the\n        consortium for the generation of the data: &ldquo;&ldquo;This project\n        (or table/figure xxx) uses data generated by the 3i consortium\n        (www.immunophenotype.org); Wellcome Trust grant [100156].&rdquo;\n      </p>\n      <h3>Can I send you my mice for phenotyping?</h3>\n      <p>\n        Unfortunately, we cannot phenotype external mice in the Sanger pipeline.\n        However, we are aiming to provide all our protocols online to enable you\n        to run a 3i-like phenotyping yourself. If you have any questions or\n        would like to collaborate with any of the partners, please contact the\n        members of the consortium directly or send an email to project manager\n        Lucie Abeler-D&ouml;rner&nbsp;\n        <a href=\"mailto:lucie.abeler-dorner@bdi.ox.ac.uk\">Send email</a>.\n      </p>\n    </Container>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const HowToCite: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">How to acknowledge 3i in publications</h1>\n      <p>\n        All publications that mainly contain data funded by 3i (e.g.\n        descriptions and results of individual screens, work undertaken by\n        3i-funded researchers) should have &ldquo;the 3i consortium&rdquo; as an\n        author. Contact project manager Lucie Abeler-D&ouml;rner for an\n        up-to-date list of names behind the consortium name&nbsp;\n        <a href=\"mailto:lucie.abeler-dorner@bdi.ox.ac.uk\">Send email</a>.\n      </p>\n      <p>\n        All publications that contain work that was directly funded by the 3i\n        grant should acknowledge the grants as follows: &ldquo;This project was\n        supported by Wellcome Trust grant [100156]\n        (www.immunophenotype.org).&rdquo; Feel free to add more specifics (e.g.\n        who or which part was funded/supported).\n      </p>\n      <p>\n        All publications that use data or protocols generated by 3i should\n        acknowledge the grant is follows: &ldquo;This project used\n        data/protocols generated by the 3i consortium (www.immunophenotype.org);\n        Wellcome Trust grant [100156].&rdquo;\n      </p>\n    </Container>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const Limitations: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">Strengths and Limitations</h1>\n      <p>\n        The strengths of the 3i project are the broadness and depth of its\n        phenotyping, and the availability of data for download. The limitations\n        of the project are the number of genes (530 out of 18,000) and the low\n        number of animals phenotyped per strain (4-8, depending on the assay). A\n        well-designed statistical pipeline mitigates the effect of the low\n        numbers and allows us to still identify phenotypes with confidence (see\n        below).\n      </p>\n      <h3>Strengths</h3>\n      <ul>\n        <li>A comprehensive immunological phenotyping of wild type mice</li>\n        <li>A comprehensive immunological phenotyping of healthy KO mice</li>\n        <li>\n          Outcome measures for four challenges (Salmonella, Trichuris, influenza\n          and DSS-induced colitis) in wild type and KO mice\n        </li>\n        <li>\n          Extensive non-immune phenotyping data for all non-challenge mice\n        </li>\n        <li>Most raw data available for download</li>\n        <li>\n          A well-designed statistical evaluation to mitigate he effect of low\n          numbers.\n        </li>\n      </ul>\n      <h3>Limitations</h3>\n      <ul>\n        <li>Only 530 out of 18,000 possible KO strains phenotyped</li>\n        <li>Only 4-8 mice per strain phenotyped</li>\n      </ul>\n      <p>\n        The low number of animals per strain means that our power is only\n        sufficient to detect large phenotypic changes. All red cells on the heat\n        map are the result of a stringent statistical analysis combined with\n        expert knowledge to weed out phenotypes that might have arisen due to\n        technical variations. Because we have erred on the side of caution when\n        calling a phenotype, there are probably many blue cells that would turn\n        red had we screened more mice. We hope you will have a look at the\n        positive and the negative phenotype data and use your own expertise and\n        judgement to identify interesting findings that have not made our\n        stringency cut-off but are still useful pieces of evidence for your own\n        investigations.\n      </p>\n    </Container>\n  );\n};\n","import { faFilePdf } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { FunctionComponent } from \"react\";\nimport { Accordion, Card, Container, Table } from \"react-bootstrap\";\nimport \"./ExperimentalDesign.scss\";\n\nconst observationProtocols = [\n  {\n    title:\n      \"Flow-cytometric analysis of spleen, mesenteric lymph nodes and bone marrow\",\n    description:\n      \"For each knockout strain, we analyse spleen, mesenteric lymph nodes and bone marrow of 3 female and 3 male mice. The flow-cytometric analysis comprises all major immune cell compartments of these organs.\",\n    documents: [\n      {\n        title: \"Bone marrow Preparation Protocol\",\n        file: \"Bonemarrowpreparation-protocol.pdf\",\n      },\n      {\n        title: \"MLN Preparation Protocol\",\n        file: \"MLN preparation-protocol.pdf\",\n      },\n      {\n        title: \"Setup and Panels\",\n        file: \"Set-upandpanels.pdf\",\n      },\n      {\n        title: \"Spleen Preparation Protocol\",\n        file: \"Spleenpreparation-protocol.pdf\",\n      },\n      {\n        title: \"Staining Protocol\",\n        file: \"Staining-protocol.pdf\",\n      },\n    ],\n  },\n  {\n    title: \"Flow-cytometric analysis of peripheral blood lymphocytes\",\n    description:\n      \"For each knockout strain, we analyse peripheral blood lymphocytes at six week of age of 4 male and 4 female mice. Perioheral blood lymphovytes at 16 weeks of age of 7 female and 7 male is analysed by the Sanger core phenotyping team in addition to the 3i assays. The Sanger core assays also include a haematological analysis. The flow-cytometric analysis comprises all major immune cell compartments in the blood.\",\n    documents: [\n      {\n        title: \"Flow Analysis Blood Protocol\",\n        file: \"Flow analysisblood-protocol.pdf\",\n      },\n      {\n        title: \"Setup and panels for PBL 16 and 6 weeks - v1\",\n        file: \"Setup and panels for PBL 16 and 6 weeks_v1.pdf\",\n      },\n    ],\n  },\n  {\n    title: \"Cytotoxic T cell function\",\n    description:\n      \"For each knockout strain, the cytotoxicity of splenic CD8 T cells from 2 female and 2 male mice is assessed in a kill assay using P14 cells. Cytotoxic T cells are crucial for killing virus-infected and cancerous cells in mice and humans.\",\n    documents: [\n      {\n        title: \"Cytotoxic T cell function Protocol\",\n        file: \"Cytotoxic T cell function - protocol.pdf\",\n      },\n    ],\n  },\n  {\n    title: \"Antinuclear antibodies\",\n    description:\n      \"For each knockout strain, the serum of 3 female and 3 male mice is tested for the presence of antinuclear IgG antibodies. Antinuclear antibodies are a key hallmark of many autoimmune diseases in mice as well as humans. Standard clinical chemistry parameters are assessed in addition by the Sanger core phenotyping team.\",\n    documents: [\n      {\n        title: \"Antinuclear antibodies Protocol\",\n        file: \"Antinuclear antibodies - protocol.pdf\",\n      },\n    ],\n  },\n  {\n    title: \"Microscopic analysis of immune cells in the epidermis\",\n    description:\n      \"In order to also include immune cells in the tissue, we analyse the immunological composition of the ear epidermis in 2 female and 2 male mice of each knockout strain, focussing on number, size and shape of Langerhans cells and dendritic epidermal T cells (DETC). The majority of immune cells in mice and humans is found in the tissues where they orchestrate local immune responses, but due to obvious difficulties, they are rarely being looked at in patients.\",\n    documents: [\n      {\n        title: \"Ear epidermal sheet isolation\",\n        file: \"Ear epidermal sheet isolation.pdf\",\n      },\n      {\n        title: \"Epidermal sheet staining - protocol\",\n        file: \"Epidermal sheet staining - protocol.pdf\",\n      },\n    ],\n  },\n];\n\nconst challengeProtocols = [\n  {\n    title: \"Salmonella typhimurium infection\",\n    description:\n      \"For each knockout strain, 4 female and 4 male mice are intraperitoneally infected with strain M525, and weight is monitored daily. Half of the mice are sacrificed after 14 days, the other half after 28 days. The liver is collected for bacterial counts and for histology. Wild type littermates from various knockout lines are used as controls.\",\n  },\n  {\n    title: \"Influenza infection\",\n    description:\n      \"For each knockout strain, 3 female and 3 male mice are infected intranasally with strain X-31, and weight is monitored daily. After 10 days, the mice are sacrificed and immune cells from the lung are collected by bronchoalveolar lavage. Wild type littermates from various knockout lines are used as controls.\",\n    documents: [\n      {\n        title: \"Bronchoalveloar lavage Protocol\",\n        file: \"Bronchoalveloar lavage - protocol.pdf\",\n      },\n    ],\n  },\n  {\n    title: \"Trichuris muris infection\",\n    description:\n      \"For each knockout strain, 6 female mice are infected with Trichuris muris eggs by oral gavage, and weight is monitored daily. After 33 days, the mice are sacrificed and the cecum is assessed for the presence or absence of worms. Serum is collected for confirmation of productive infection. Wild type littermates from various knockout lines are used as controls.\",\n    documents: [\n      {\n        title: \"Trichuris muris infection Protocol\",\n        file: \"Trichuris muris infection - protocol\",\n      },\n    ],\n  },\n  {\n    title: \"DSS colitis\",\n    description:\n      \"For each knockout strain, 4 male mice receive 1.5% dextran sodium sulphate in drinking water for 7 days, and weight is monitored daily. After 10 days, the mice are sacrificed and samples from the medial and distal gut are collected for histological analysis. Wild type littermates from various knockout lines and wild type mice from a separate colony type colony housed in the same facility are used as controls.\",\n  },\n  {\n    title: \"Mycobacterium tuberculosis infection\",\n    description:\n      \"For selected knockout strains, 25 male mice are infected with a low dose aerosol of strain H37Rv. After 24 hours, 3 weeks and 6 weeks, 5 mice each are sacrificed and lung and spleen are collected for bacterial counts. 10 mice are kept for survival analysis.\",\n  },\n];\n\nexport const ExperimentalDesign: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\" id=\"the-mice\">\n        The Mice\n      </h1>\n      <article>\n        <p>\n          The Wellcome Trust Sanger Institute currently generates 160 knockout\n          mouse lines a year, all of which are phenotyped by the 3i consortium.\n          One third of the genes are chosen for their likely involvement in\n          human diseases (e.g. as shown in GWAS studies), one third are chosen\n          from suggestions of participating scientists and one third are\n          randomly selected from the International Knockout Mouse Consortium\n          (IKMC) embryonic stem cell pool (see below). Approximately 25% of the\n          knockout lines generated are embryonically lethal and are phenotyped\n          as heterozygotes. Whilst lines homozygous for the targeted alleles\n          present with a higher hit rate, lines assessed in the heterozygous\n          state were still remarkably informative. A characterization of the\n          first 250 knockout mouse lines that completed the Sanger phenotyping\n          pipeline pre-3i has been published by&nbsp;\n          <a\n            href=\"http://www.ncbi.nlm.nih.gov/pubmed/23870131\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            White et al.\n          </a>\n          &nbsp;(Cell 2013).\n        </p>\n      </article>\n      <Accordion>\n        <Card>\n          <Accordion.Toggle as={Card.Header} eventKey=\"0\">\n            Embryonic stem cells\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey=\"0\">\n            <Card.Body>\n              <p>\n                All ES cells are derived from the resources generated by&nbsp;\n                <a\n                  href=\"https://www.mousephenotype.org/about-ikmc\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  IKMC,\n                </a>\n                &nbsp;an ongoing effort to create knockout ES cells for every\n                protein-coding gene in the mouse. At the moment, all ES cells\n                used have been generated with traditional techniques. In the\n                future, some of the lines will likely be generated by CRISPR\n                technology.\n              </p>\n            </Card.Body>\n          </Accordion.Collapse>\n        </Card>\n        <Card>\n          <Accordion.Toggle as={Card.Header} eventKey=\"1\">\n            Knockout Strategy\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey=\"1\">\n            <Card.Body>\n              <p>\n                Most of the knockouts lines are generated by a knock-in first\n                approach (Skarnes et al, Nature 2011). This technique combines\n                the advantages of a reporter-tagged allele with a conditional\n                knockout approach (see figure 1).&nbsp;\n              </p>\n              <div className=\"text-center m-2\">\n                <img\n                  src={`${process.env.PUBLIC_URL}/knockout-first-471x451.png`}\n                  alt=\"knockout-first process diagram\"\n                />\n              </div>\n\n              <p>\n                Historically, approximately 25% of knockout lines at Sanger have\n                been phenotyped as tm1b alleles and 75% as tm1a alleles. An\n                internal study showed that 60% of the tm1a lines were complete\n                knockouts, 16% were hypomorphs and 24% had residual gene\n                activity. By the end of 2014, all lines will be analysed in\n                their tm1b form. The knock-in first approach relies on the\n                identication of a critical exon common to all trascript variants\n                that, when deleted, creates a frame-shift mutation. The critical\n                exon is defined by a computer-assisted procedure and flanked by\n                loxP sites. Upstream, an FRT-flanked lacZ-loxP-neomycin cassette\n                is inserted. The lacZ-loxP-neomycin cassette contains a splice\n                acceptor and also codes for a poly-A tail. In its full-length\n                form (tm1a), the construct therefore generates a null allele by\n                creating a shortened transcript that lacks the critical exon. A\n                lacZ reporter knockout (tm1b) can be generated by exposing mice\n                or cells to Cre recombinase. Alternatively, exposure to Flp\n                recombinase will create a wild type allele (tm1c) which can then\n                be used to create conditional knockout strains by crossing the\n                mice to a tissue-specific Cre-expressing strain. Genes expressed\n                in ES cells are usually targeted with a promoterless construct,\n                genes not expressed with a promoter-driven construct.\n                Promoter-driven constructs carry a slightly higher risk for\n                off-target effects. If the target gene is small and does not\n                contain a critical exon, an exon is split by the targeting\n                cassette imbedded in an artificial intron. More detailed\n                information on the constructs used can be found in the&nbsp;\n                <a\n                  href=\"http://www.mousephenotype.org/data/documentation/aboutImpc#howdoesimpcwork\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  targeting strategy section of the IMPC website.\n                </a>\n              </p>\n\n              <h3>How to order a knockout mouse or an ES cell line</h3>\n\n              <p>\n                3i itself does not distribute any materials, but mice and ES\n                cells can be requested via the IMPC for a fee from repositories\n                in Europe or the US. Please search for your gene of interest on\n                the&nbsp;\n                <a\n                  href=\"http://www.mousephenotype.org/\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  IMPC website to find out which products are available.\n                </a>\n              </p>\n            </Card.Body>\n          </Accordion.Collapse>\n        </Card>\n      </Accordion>\n      <h1 className=\"mt-5 mb-5\" id=\"experimental\">\n        Experimental Design and Protocols\n      </h1>\n      <h2 id=\"observational\">Observational screen</h2>\n      <p>\n        The observational screen aims to detect any immunological disturbances\n        that occur in key immunological sites in the steady state. Unless stated\n        otherwise, mice are sacrificed at 16 weeks of age.\n      </p>\n      <Table striped bordered hover className=\"text-center\">\n        <thead>\n          <tr>\n            <th>Organ / Test</th>\n            <th>No. of Mice</th>\n            <th>Readout</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Spleen, MLN, Bone marrow</td>\n            <td>3F3M</td>\n            <td rowSpan={2}>\n              <div>Flow cytometry</div>\n            </td>\n          </tr>\n          <tr>\n            <td>Blood</td>\n            <td>7F7M</td>\n          </tr>\n          <tr>\n            <td>Antinuclear antibodies</td>\n            <td>3F3M</td>\n            <td rowSpan={2}>\n              <div>Microscopy</div>\n            </td>\n          </tr>\n          <tr>\n            <td>Ear epidermis</td>\n            <td>2F2M</td>\n          </tr>\n          <tr>\n            <td>Cytotoxic T lymphocytes</td>\n            <td>2F2M</td>\n            <td>\n              <div>All assay</div>\n            </td>\n          </tr>\n        </tbody>\n      </Table>\n      <Accordion>\n        {observationProtocols.map((observationProtocol, index) => (\n          <Card key={`${observationProtocol.title}_${index}`}>\n            <Accordion.Toggle as={Card.Header} eventKey={`${index}`}>\n              {observationProtocol.title}\n            </Accordion.Toggle>\n            <Accordion.Collapse eventKey={`${index}`}>\n              <Card.Body>\n                <p>{observationProtocol.description}</p>\n                <h4>Related documents</h4>\n                <ul className=\"list-unstyled\">\n                  {observationProtocol.documents.map((doc, index) => (\n                    <li key={`sub_${observationProtocol.title}-${index}`}>\n                      <FontAwesomeIcon\n                        key={doc.file}\n                        icon={faFilePdf}\n                        style={{ fontSize: \"x-large\" }}\n                      />{\" \"}\n                      <a\n                        href={`${process.env.PUBLIC_URL}/${doc.file}`}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                      >\n                        {doc.title}\n                      </a>\n                    </li>\n                  ))}\n                </ul>\n              </Card.Body>\n            </Accordion.Collapse>\n          </Card>\n        ))}\n      </Accordion>\n      <h2 className=\"mt-5\" id=\"challenges\">\n        Challenges\n      </h2>\n      <p>\n        In order to find defects in the knockout mice that only become apparent\n        when the immune system is challenged, we subject the mice to a broad\n        spectrum of challenges. A Salmonella typhimurium infection as an example\n        of a bacterial infection is carried out by the team of Gordon Dougan at\n        the Wellcome Trust Sanger Institute. For the 3i assays, we chose\n        influenza as a viral infection, Trichuris muris as a parasite infection\n        and DSS colitis as an example of a chemical stressor. Selected strains\n        will furthermore be infected with Mycobacterium tuberculosis.\n      </p>\n      <Table striped bordered hover className=\"text-center\">\n        <thead>\n          <tr>\n            <th>Challenge</th>\n            <th>No. of Mice</th>\n            <th>Readouts</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Samonella</td>\n            <td>4F4M</td>\n            <td>\n              Bacterial counts <br />\n              Antibody titers\n            </td>\n          </tr>\n          <tr>\n            <td>Influenza</td>\n            <td>3F3M</td>\n            <td>Daily weights</td>\n          </tr>\n          <tr>\n            <td>Trichuris</td>\n            <td>6F</td>\n            <td>\n              Worm burden <br /> Antibody titers\n            </td>\n          </tr>\n          <tr>\n            <td>DSS colitis</td>\n            <td>4F</td>\n            <td>\n              Histology <br />\n              Daily weights\n            </td>\n          </tr>\n          <tr>\n            <td>Tuberculosis</td>\n            <td>selected</td>\n            <td>\n              Bacterial counts <br />\n              Daily weights\n            </td>\n          </tr>\n        </tbody>\n      </Table>\n      <Accordion>\n        {challengeProtocols.map((observationProtocol, index) => (\n          <Card key={`${observationProtocol.title}_${index}`}>\n            <Accordion.Toggle as={Card.Header} eventKey={`${index}`}>\n              {observationProtocol.title}\n            </Accordion.Toggle>\n            <Accordion.Collapse eventKey={`${index}`}>\n              <Card.Body>\n                <p>{observationProtocol.description}</p>\n                {observationProtocol.documents ? (\n                  <>\n                    <h4>Related documents</h4>\n                    <ul className=\"list-unstyled\">\n                      {observationProtocol.documents.map((doc, index) => (\n                        <li key={`sub_${index}`}>\n                          <FontAwesomeIcon\n                            key={doc.file}\n                            icon={faFilePdf}\n                            style={{ fontSize: \"x-large\" }}\n                          />{\" \"}\n                          <a\n                            href={`${process.env.PUBLIC_URL}/${doc.file}`}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                          >\n                            {doc.title}\n                          </a>\n                        </li>\n                      ))}\n                    </ul>\n                  </>\n                ) : null}\n              </Card.Body>\n            </Accordion.Collapse>\n          </Card>\n        ))}\n      </Accordion>\n      <h2 className=\"mt-5\" id=\"flow\">\n        Flow Cytrometry: gating\n      </h2>\n      <ul>\n        <li>Gating strategy</li>\n        <li>Manual and Automated Gating</li>\n      </ul>\n      <p>\n        All FCS files were gated manually at the time of acquisition. Non-blood\n        FCS files gathered after panel change were reanalysed afterwards with\n        automated gating by Ryan Brinkman team Link todo. Data presented through\n        the IMPC portal is based on manual gating. We used automated gating\n        whenever possible. For strains where some samples were reanalysed with\n        automated gating and others analysed only with manual gating, we used\n        for each sample the best available data (so preferably automated-gating\n        derived) and compared it to the appropriate reference range. Only then\n        results were aggregated for the strain.\n      </p>\n      <p>\n        In the Data download section we provide information about what sort of\n        gating was used for any specific sample.\n      </p>\n    </Container>\n  );\n};\n","//@ts-nocheck\nimport React, { FunctionComponent } from \"react\";\nimport { Accordion, Card, Container } from \"react-bootstrap\";\nimport TableauReport from \"tableau-react-embed\";\n\nexport const StatisticalDesign: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">Statistical Design</h1>\n      <p>\n        Due to different work flows, we use different statistical tests to\n        determine if the phenotyping results of a knockout line differ from the\n        wild type mice. The two main approaches we are using are a reference\n        range approach for continuous data and a Fisher’s exact test for\n        categorical data.\n      </p>\n      <p>\n        Our statistical analysis is designed to differentiate as efficiently as\n        possible between lines that show a phenotype and lines that do not.\n        However, the criteria for calling a hit are very stringent, in order to\n        make sure that when you order a mouse in, the phenotype we have observed\n        will hold up. The other side of the coin is that we are likely to miss\n        true hits, i.e. have a higher number of false negatives. Therefore we\n        encourage you to take a look at the raw data for phenotypes you are\n        interested in and judge for yourself if a borderline case might actually\n        be a true phenotype, even if it hasn't met our very stringent\n        statistical criteria.\n      </p>\n      <p>\n        For every candidate hit identified in the high-throughput analysis, we\n        went back to the underlying raw data (FCS files for flow cytometry etc)\n        for the candidate strain and appropriate controls and a final call was\n        made by an expert in the field.\n      </p>\n      <Accordion>\n        {statisticalMethods.map((stat, index) => (\n          <Card>\n            <Accordion.Toggle as={Card.Header} eventKey={`${index}`}>\n              {stat.title}\n            </Accordion.Toggle>\n            <Accordion.Collapse eventKey={`${index}`}>\n              <Card.Body>{stat.content}</Card.Body>\n            </Accordion.Collapse>\n          </Card>\n        ))}\n      </Accordion>\n      <h2 className=\"mt-5 mb-3\">Hit calling for specific assays</h2>\n      <Accordion>\n        {hitAssays.map((stat, index) => (\n          <Card>\n            <Accordion.Toggle as={Card.Header} eventKey={`${index}`}>\n              {stat.title}\n            </Accordion.Toggle>\n            <Accordion.Collapse eventKey={`${index}`}>\n              <Card.Body>{stat.content}</Card.Body>\n            </Accordion.Collapse>\n          </Card>\n        ))}\n      </Accordion>\n      <TableauReport url=\"https://public.tableau.com/views/MapoftheMouseImmuneSystem/3iFlowData?:embed=y&:display_count=y&:showTabs=y&:origin=viz_share_link\" />\n    </Container>\n  );\n};\n\nconst statisticalMethods = [\n  {\n    title: \"Reference range\",\n    content: (\n      <>\n        <p>\n          All tests from the observational screen are carried out on mice of the\n          main Sanger phenotyping pipeline. An average of 84 mice are phenotyped\n          every week on two separate days. Due to operational reasons, wild type\n          controls are only processed on one of these days. Knockout mice enter\n          the pipeline according to their age and mice from one strain are\n          phenotyped on at least two different days to avoid any day effects.\n          Due to this set-up, knockout mice cannot be compared to controls on\n          the same day. Using daily controls would also not take advantage of\n          the many wild type data points that are collected over time.\n        </p>\n        <p>Hence we wanted an approach which would:</p>\n        <ol>\n          <li>allow to use wild-type controls accumulated during the study</li>\n          <li>\n            allow to test also samples from days when controls were not tested\n          </li>\n          <li>be robust to any outliers and mitigate batch effects</li>\n          <li>would work for assays with small number of animals per strain</li>\n          <li>allow sex-specific testing</li>\n        </ol>\n        <p>\n          Therefore we decided to use reference range (RR) approach to analyse\n          the data.\n        </p>\n        <p>\n          Data from at least 70 wild type mice was used to generate a reference\n          range. Knockout lines are considered to be significantly different\n          from wild type mice if 60% of the mice for this strain lie outside the\n          middle 95% of wild type data points, i.e. if they lie above the 97.5th\n          or below the 2.5th percentile of the wild type data. For assays with 2\n          or 3 mice per gender, separate RRs are constructed for male and female\n          mice, but hits are only called if 60% of samples across both genders\n          are outside their respective reference ranges (3 out of 4 or 4 out of\n          6). For assays with at least 4 mice per gender (Blood flow cytometry),\n          males and females are assessed fully separately.\n        </p>\n        <p>\n          For flow cytometry assays of tissues other than blood, we constructed\n          time-window reference range (TRR), by comparing each KO mouse to at\n          least 70 WT of matching sex closest in time and combining relation to\n          TRR (&ldquo;within&rdquo;, &ldquo;above&rdquo;, &ldquo;below&rdquo;)\n          across all KO mouse from a strain.\n        </p>\n        <p>\n          The reference range approach does not take into account the actual\n          distribution of the knockout data, therefore a p-value cannot be\n          calculated. Assuming that all samples are independent of each other,\n          false positive rates vary between 1 in 4.8 million for 7 mice per\n          gender per knockout line (e.g. 16 week blood) and 1 in 16,000 for 4\n          mice per knockout line (e.g. for cytotoxicity).\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Fisher’s exact test\",\n    content: (\n      <>\n        <p>\n          The screen for antinuclear antibodies in serum and the test for worm\n          burden in Trichuris infection have a very different data structure\n          than the other assays, as wild types are usually negative and\n          positivity is a strong indication for an abnormal phenotype. These\n          assays are therefore analysed with the categorical Fisher&rsquo;s\n          exact test.\n        </p>\n        <p>\n          Even though the intensity of antinuclear antibody is quantified on a\n          continuous scale, the main readout is the presence or absence of\n          antibody staining. The data is split into negative (scores 0-1) and\n          positive samples (scores 2-5) and analysed categorically. Similarly,\n          worms in the cecum could be counted to assess worm burden, but the\n          more important finding is that worms are present at all.\n        </p>\n      </>\n    ),\n  },\n];\n\nconst hitAssays = [\n  {\n    title:\n      \"Flow-cytometric analysis of spleen, mesenteric lymph nodes, and bone marrow\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>\n          Cell numbers for each population, expressed as percentage of parent\n          gate, percentage of CD45+ cells.\n        </p>\n        <h3>Statistical test:</h3>\n        <p>\n          Sex-specific, time-window reference range (TRR), manual verification\n          of candidate hits\n        </p>\n        <h3>Details</h3>\n        <p>\n          Reference ranges were constructed using the 70 wt mice of the same sex\n          that were closest in time (TRR). Cell subset measurements for all mice\n          are available to download from the &ldquo;More data&rdquo; tab. Data\n          and code used for identification of candidate hits are available on\n          github. Final calls were made by an experienced researcher after\n          reanalysis of the data in FlowJo.\n        </p>\n        <p>\n          The project started in late autumn 2013. In mid-2014, we decided to\n          change the original antibody panels to make them more compatible with\n          the IMPC panels and to replace a few antibodies that had not been\n          working as well as expected. For the T cell panel, this change\n          happened on 9th of June 2014, for the B cell panel on 15th of\n          September 2014. Data collected before and after the panel changes are\n          not directly comparable and were analysed separately (constructing\n          separate reference ranges before and after the panel change).\n          &nbsp;&nbsp;\n        </p>\n        <p>\n          We were aware at the start of the project that manual gating of all\n          FCS files would be very time-consuming and started immediately to\n          explore different algorithms to automate the gating process. However,\n          quality control of ongoing phenotyping meant that we still had to gate\n          all files manually before the automated gating was in place. We\n          eventually teamed up with&nbsp;\n          <a href=\"http://www.terryfoxlab.ca/people-detail/ryan-brinkman/\">\n            Ryan Brinkman&rsquo;s team in Vancouver\n          </a>\n          . and developed a semi-supervised gating algorithm for all our panels\n          except blood after the initial panel change in summer 2014. Getting\n          this right and performing the required validations took longer than\n          anticipated and we therefore ended up with a complete set of manually\n          gated data and an almost complete set of data gated automatically with\n          a semi-supervised algorithm. Both datasets are available in the data\n          download section.\n        </p>\n        <p>\n          Data sent to the IMPC for graphing on the website is based on manual\n          gating. For the consortium publication, we reanalysed all available\n          data with the semi-supervised algorithm and refined the hit calling\n          accordingly. Hits displayed online are therefore based on manual\n          gating but verified with automated gating. We found that automated\n          gating reduced temporal drift in many parameters but had not a huge\n          impact on the hit calling as the reference range only calls extreme\n          phenotypes. For further analysis, especially for potential phenotypes\n          that have not made our stringent cut-off criteria, we recommend using\n          the automated data wherever possible.\n        </p>\n        <p>\n          Automated semi-supervised gating Computational gating was performed by\n          Ryan Brinkman&rsquo;s team with&nbsp;\n          <a href=\"https://www.bioconductor.org/packages/release/bioc/html/flowClean.html\">\n            flowClean\n          </a>\n          , UFO, and&nbsp;\n          <a href=\"https://www.bioconductor.org/packages/release/bioc/html/flowDensity.html\">\n            flowDensity\n          </a>\n          &nbsp;. FlowClean was used to perform acquisition-based quality\n          checking to remove anomalous events. Files with fewer than 20,000\n          events were removed from further analysis. UFO was used to identify\n          outlier samples (e.g., batch effects). FlowDensity was used to\n          enumerate cell populations by automating a predefined gating approach\n          using sequential, supervised bivariate gating analysis to set the best\n          cut-off for an individual marker using characteristics of the density\n          distribution. The parameters for each individual cell population were\n          pre-defined once for all files. The automated analysis data was\n          validated against matched manually analysed data.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Flow-cytometric analysis of blood\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>\n          Cell numbers for each population, expressed as percentage of parent\n          gate and as absolute numbers\n        </p>\n        <h3>Statistical test:</h3>\n        <p>\n          Sex-specific reference range, manual verification of candidate hits\n        </p>\n        <h3>Details</h3>\n        <p>\n          Cell subset measurements for all mice are available to download from\n          the &ldquo;More data&rdquo; tab. Data and code used for identification\n          of candidate hits are available on&nbsp;\n          <a\n            href=\"https://github.com/AnnaLorenc/3i_heatmapping\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            github\n          </a>\n          . Final calls were made by an experienced researcher after reanalysis\n          of the data in FlowJo.\n        </p>\n        <p>\n          The blood data was analysed by us and by the IMPC. The reference range\n          approach has been used extensively by WTSI and 3i, but is currently\n          not available as a test in the IMPC statistical pipeline. The IMPC has\n          therefore analysed the same blood data using a mixed model approach\n          which is less stringent and leads to more hits. Hits in blood\n          immunophenotyping will therefore differ between this webpage and the\n          IMPC webpage. Our approach is more conservative and very unlikely to\n          contain false positive results. The IMPC analysis offers an assessment\n          of which genes score a hit with a less stringent statistical approach.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Microscopic analysis of immune cells in the ear epidermis\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>\n          Number of cells per field of view, percentage of interacting cells,\n          cell volume, cell shape (roundness), number and length of dendrites\n        </p>\n        <h3>Statistical test:</h3>\n        <p>\n          Reference range, manual verification of candidate strains Measurements\n          for all mice are available to download from the &ldquo;More\n          data&rdquo; tab. Data and code used for identification of candidate\n          hits are available on&nbsp;\n          <a\n            href=\"https://github.com/AnnaLorenc/3i_heatmapping\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            github\n          </a>\n          . Final calls were made by an experienced researcher after\n          reinspection of the raw and processed data in Definiens Developer.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Cytotoxicity of splenic CD8 T cells\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>\n          Cytotoxicity is expressed as percent killing in comparison to the\n          positive control, data is generated for five different effector:target\n          ratios\n        </p>\n        <p>&nbsp;</p>\n        <h3>Statistical test:</h3>\n        <p>Reference range</p>\n        <h3>Details:</h3>\n        <p>\n          Since the assay generates a curve consisting of different\n          target:effector ratios rather than a single value, a curve is\n          considered to be outside the reference range if three consecutive\n          values lie outside their reference range interval. Data for all mice\n          is available to download from the &ldquo;More data&rdquo; tab.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Antinuclear antibodies (ANA)\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>Scores corresponding to intensity of antibody staining</p>\n        <h3>Statistical test</h3>\n        <p>Fisher&rsquo;s exact test</p>\n        <h3>Details:</h3>\n        <p>\n          Approximately 10% of wild type mice show a positive staining for\n          antinuclear antibodies. Against this background, 4 out of 6 samples\n          for a given knockout line need to be positive to reach a p-value below\n          0.01. Data for all mice is available to download from the &ldquo;More\n          data&rdquo; tab.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Influenza challenge\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>\n          Weight loss: Percentage of reduction in body weight compared to the\n          start of the experiment, from daily weight measurements Survival:\n          Number of mice having to be sacrificed because of excessive weight\n          loss before the end of the experiment\n        </p>\n        <h3>Statistical test:</h3>\n        <p>\n          Mixed model with concurrent wt controls for weight loss,\n          Fisher&rsquo;s exact test for the number of sacrificed mice\n        </p>\n        <h3>Details:</h3>\n        <p>\n          Weight loss hits were identified by fitting a robust mixed model\n          (corresponding to two-way Anova) with a p-value cut-off of 0.0001, in\n          comparison to concurrent wt controls, taking into account sex and\n          genotype, using the R package&nbsp;\n          <a href=\"http://bioconductor.org/packages/release/bioc/html/PhenStat.html\">\n            Phenstat\n          </a>\n          . Residuals were assumed to be normally distributed. Calls were made\n          when a genotype has a significant main effect on weight loss.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Salmonella challenge\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>\n          Colony forming units (CFU) of bacteria cultured on LB agar isolated\n          from spleen and liver homogenates, titers of antigen-specific\n          antibodies in serum measured by ELISA\n        </p>\n        <h3>Statistical approach:</h3>\n        <p>Mann-Whitney-U test</p>\n        <h3>Details:</h3>\n        <p>\n          Hits were identified by a Mann-Whitney-U test with a p-value cut-off\n          of 0.05 in comparison to concurrent WT controls. The analysis combined\n          data from male and female mice. Significant lines were retested with a\n          second cohort. A final call was made on the combined data from both\n          experiments.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"Trichuris challenge\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>Presence or absence of worms in the cecum as categorical measure</p>\n        <h3>Statistical test:</h3>\n        <p>Fisher&rsquo;s exact test</p>\n        <h3>Details:</h3>\n        <p>\n          Wild type mice clear a Trichuris muris infection completely. Presence\n          of worms in the cecum at day 33 therefore indicates a higher\n          susceptibility. Approximately 10% of wild type mice have a low number\n          of worms in the cecum at day 33. Against this background, 4 out of 6\n          samples for a given knockout line need to be positive to reach a\n          p-value below 0.01. Data for all mice is available to download from\n          the &ldquo;More data&rdquo; tab.\n        </p>\n      </>\n    ),\n  },\n  {\n    title: \"DSS challenge\",\n    content: (\n      <>\n        <h3>Type of data:</h3>\n        <p>\n          Histology scores: Histology sections from mid and distal colon are\n          assessed in four different categories indicating damage to the gut.\n          Categories are scored individually (each on scale 0-3) and combined as\n          a total score. Weight loss: Percentage of reduction in body weight\n          compared to the start of the experiment, from the daily weight\n          measurements. Survival: Number of mice having to be sacrificed because\n          of excessive weight loss before the end of the experiment.\n        </p>\n        <p>\n          Weight loss: Percentage of reduction in body weight compared to the\n          start of the experiment, from the daily weight measurements.\n        </p>\n        <p>\n          Survival: Number of mice having to be culled because of excessive\n          weight loss before the end of the experiment.\n        </p>\n        <h3>Statistical test:</h3>\n        <p>\n          Weight loss/ histology scores: sex-matched reference range, 70\n          individuals closest in starting weight (histology) or age (weight\n          loss).\n        </p>\n        <p>\n          Survival: Fisher&rsquo;s exact test with a p-value cut-off of 0.01,\n          comparing the frequency of sacrificed mice in a mutant strain with the\n          wt population, combining data from both sexes.\n        </p>\n        <h3>Details</h3>\n        <p>\n          Measurements for all mice are available to download from the\n          &ldquo;More data&rdquo; tab. Data and code used for identification of\n          candidate hits are available on&nbsp;\n          <a\n            href=\"https://github.com/AnnaLorenc/3i_heatmapping\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            github\n          </a>\n          . Final calls were made by an experienced researcher after\n          reinspection of the raw and processed data.\n        </p>\n      </>\n    ),\n  },\n];\n","import React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const Downloads: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">Raw Data Downloads</h1>\n      <p>\n        Data for specific genes and assays: access through the heat map on our\n        landing page. Click through until you see a graph of interest and obtain\n        a csv file by pushing &ldquo;download&rdquo; button.\n      </p>\n      <p>\n        Bulk quantification data (all tested genes, many parameters) can be\n        found on this page. Data for flow cytometry assays, ear epidermis and\n        DSS are also on github, together with the code used for&nbsp;\n        <a href=\"https://github.com/AnnaLorenc/3i_heatmapping\">heatmapping</a>.\n      </p>\n      <p>\n        Raw flow cytometry data is available from the&nbsp;\n        <a href=\"https://flowrepository.org/\">FlowRepository</a>,\n      </p>\n      <p>\n        It is mandatory to acknowledge the 3i consortium when using this data.\n        To cite this data in publications and grant proposals, please use the\n        following text:\n      </p>\n      <p>\n        &ldquo;This project (or table/figure xxx) uses data generated by the 3i\n        consortium (www.immunophenotype.org) which was funded by Wellcome Trust\n        grant [100156].&rdquo;\n      </p>\n      <h2>Data downloads</h2>\n      <h3>Flow Cytometry</h3>\n      <p>\n        Please note: after few months into the project, we slightly modified\n        some of the flow cytometry panels to harmonize them with the panels used\n        across the IMPC. All flow cytometry data acquired within this initial\n        period were analysed by manual gating only. The files generated after\n        the change were additionally gated with an automated, semi-supervised\n        approach. We provide manual gating results for all the files, automated\n        gating for the IMPC-synced data and a mapping to which version of gating\n        was used for the final immunophenotyping.\n      </p>\n      <h3>Blood</h3>\n      <ul>\n        <li>\n          <a href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_blood.csv\">\n            Manual gating\n          </a>\n        </li>\n      </ul>\n      <h3>Spleen flow-cytometric data</h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/threei_new/3i_bulkDown_manualspleen_190423.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Manual gating (3783 mice)\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/threei_new/3i_bulkDown_autospleen_190423.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Automated gating (3029 mice)\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_spleen_gating%20reference.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Mapping of samples to gating used\n          </a>\n        </li>\n      </ul>\n      <h3>Mesenteric lymph node flow-cytometric data</h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/threei_new/3i_bulkDown_manualMLN_190423.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            MLN manual gating (3526 mice)\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/threei_new/3i_bulkDown_autoMLN_190423.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            MLN automated gating (2837 mice)\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_MLN_gating_reference.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            MLN mapping of samples to gating used\n          </a>\n        </li>\n      </ul>\n      <h3>Bone marrow flow-cytometric data</h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/threei_new/3i_bulkDown_manualBM_190423.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            BM manual gating (3476 mice)\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/threei_new/3i_bulkDown_autoBM_190423.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            BM automated gating (2767 mice)\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_BM_gating_reference.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            BM mapping of samples to gating used\n          </a>\n        </li>\n      </ul>\n      <h3>Ear epidermis</h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_ear_epidermis.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            imaging data quantification\n          </a>\n        </li>\n      </ul>\n      <h3>Antinuclear antibody</h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_antinuclear_antibodies.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            data\n          </a>\n        </li>\n      </ul>\n      <h3>\n        Cytotoxic T cell\n        <a\n          href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_cytotoxic_T_cells.csv\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          data\n        </a>\n        DSS colitis\n      </h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_DSS_histology.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Histology scores\n          </a>\n        </li>\n      </ul>\n      <h3>\n        <em>Trichuris muris</em>\n      </h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_trichuris.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            data\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_bulkDown_fluSalmTrich_190612/trichuris_for_bulkdownload_190612.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            worm presence data\n          </a>\n        </li>\n      </ul>\n      <h3>Influenza</h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_bulkDown_fluSalmTrich_190612/flu_for_bulk_download_190612.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            weight/death data\n          </a>\n        </li>\n      </ul>\n      <h3>Salmonella</h3>\n      <ul>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_bulkDown_fluSalmTrich_190612/Salmonella_weights_for_bulkdownload_190612.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            weight data\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"ftp://ftp.ebi.ac.uk/pub/databases/impc/3i/forwebsite/3i_bulkDown_fluSalmTrich_190612/Salmonella_Elisa_for_bulkdownload_190612.csv\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Elisa data\n          </a>\n        </li>\n      </ul>\n      <h3>\n        We are in the process of making the remaining data available as well.\n      </h3>\n    </Container>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const FlowFiles: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">Flow Files</h1>\n      <p>\n        We phenotyped the blood of over 12,700 mice, and spleen mesenteric lymph\n        nodes and bone marrow of over 3400 mice. Using one panel for bone\n        marrow, two panels for blood, three panels for mesenteric lymph nodes\n        and three to four panels for spleen, we generated over 50,000 FCS files.\n        We are in the process of making all FCS files available on\n        FlowRepository&nbsp;\n        <a href=\"https://flowrepository.org/\" target=\"_blank\" rel=\"noreferrer\">\n          https://flowrepository.org\n        </a>\n        . See links below for managable data files for download.\n      </p>\n      <ul>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYXF\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Myeloid cell panel spleen\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYXB\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            T cell panel mesenteric lymph node\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYX9\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            T cell panel spleen IMPC\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYXG\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Myeloid cell panel mesenteric lymph node\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYXN\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            IMPC P2 panel spleen\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYXQ\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Bone marrow panel\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYXE\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            B cell panel mesenteric lymph node\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYPJ\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            PBMC panel1\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://flowrepository.org/id/FR-FCM-ZYPK\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            PBMC panel2\n          </a>\n        </li>\n      </ul>\n      <p>\n        Please contact project manager Lucie Abeler-D&ouml;rner if you any\n        questions about the data&nbsp;\n        <a href=\"mailto:lucie.abeler-dorner@bdi.ox.ac.uk\">Send email</a>. To\n        learn more about panels, antibodies and protocols, please have a look at\n        the Methods section on this webpage. If you are interested in fancy flow\n        analysis, also have a look at our semi-supervised analysis project under\n        &ldquo;New cell types&rdquo;.\n      </p>\n    </Container>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const NewCellTypes: FunctionComponent = () => {\n  return (\n    <Container className=\"mt-5 mb-5\">\n      <h1 className=\"mb-5\">New Cell Types</h1>\n      <p>\n        We are conducting a semi-supervised analysis of our flow data &ndash;\n        trying to let mathematical algorithms find new phenotypes in new subsets\n        that we didn&rsquo;t look at when we followed our gating strategy.\n        It&rsquo;s a complex dataset and we are currently in the process of\n        finding the best ways to interpret and display the results. Watch this\n        space!\n      </p>\n    </Container>\n  );\n};\n","import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { Alert, Button, Container, Table } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { tsvParse } from \"d3-dsv\";\nimport { Legend } from \"./Legend\";\n\nexport interface IDetailsProps {\n  cellType?: string;\n  procedure?: string;\n  gene?: string;\n  cellTypeParameterMap?: any;\n}\n\nconst getCellColor = [\"white\", \"#acacac\", \"#416ec5\", \"#c9505d\"];\n\nexport const Details: FunctionComponent<IDetailsProps> = ({\n  cellTypeParameterMap,\n}) => {\n  let { gene, cellType, procedure } = useParams<IDetailsProps>();\n  cellType = decodeURIComponent(cellType || \"\");\n  const [tableRows, setTableRows] = useState<Array<any>>([]);\n  const [tableColumns, setTableColumns] = useState<Array<any>>([]);\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/${gene}.tsv`)\n      .then((res) => (res !== null ? res.text() : \"\"))\n      .then(\n        (result: string) => {\n          const parameters = cellTypeParameterMap\n            .filter((mapping: any) =>\n              cellType\n                ? mapping.cellType.toLowerCase() === cellType?.toLowerCase()\n                : mapping.cellType.toLowerCase() === cellType?.toLowerCase()\n            )\n            .map((mapping: any) => mapping.parameterId);\n          let detailsData = [...tsvParse(result)];\n          if (cellType)\n            detailsData = detailsData.filter((row) =>\n              parameters.includes(row.parameterId)\n            );\n          if (procedure)\n            detailsData = detailsData.filter(\n              (row) => row.displayProcedureName === procedure\n            );\n          const groupedByParameter: any = {};\n          const extraCols: Array<string> = [];\n          detailsData.forEach(\n            ({ parameterId, sex, genotype, significanceValue }: any) => {\n              if (!groupedByParameter[parameterId])\n                groupedByParameter[parameterId] = {};\n              const sexGenotypeKey = sex + \" \" + genotype;\n              if (!extraCols.includes(sexGenotypeKey))\n                extraCols.push(sexGenotypeKey);\n              if (!groupedByParameter[parameterId][sexGenotypeKey])\n                groupedByParameter[parameterId][sexGenotypeKey] = 0;\n              groupedByParameter[parameterId][sexGenotypeKey] =\n                groupedByParameter[parameterId][sexGenotypeKey] <\n                significanceValue\n                  ? significanceValue\n                  : groupedByParameter[parameterId][sexGenotypeKey];\n            }\n          );\n          extraCols.sort((a, b) => (a > b ? 0 : -1));\n          setTableColumns(() => [\"Parameter\", \"Assay\"].concat(extraCols));\n          const newTableRows = detailsData\n            .filter(\n              (v, i, a) =>\n                a.map((ai) => ai.parameterId).indexOf(v.parameterId) === i\n            )\n            .map((d) => {\n              const row: any = {\n                parameterId: d.parameterId,\n                Parameter: d.parameterName,\n                Assay: d.displayProcedureName,\n                mgi: d.mgiAccessionId,\n              };\n              extraCols.forEach((c: string) => {\n                if (d.parameterId)\n                  row[c] = groupedByParameter[d.parameterId][c]\n                    ? groupedByParameter[d.parameterId][c]\n                    : 0;\n              });\n              return row;\n            });\n          setTableRows(newTableRows);\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  }, [cellType, procedure, cellTypeParameterMap, gene]);\n  return (\n    <Container className=\"mt-5\">\n      <h1>\n        Gene: {gene}{\" \"}\n        <Button\n          variant=\"primary\"\n          size=\"sm\"\n          onClick={() =>\n            window.open(\n              `https://www.mousephenotype.org/data/genes/${tableRows[0][\"mgi\"]}#order`\n            )\n          }\n        >\n          View data / order mice at IMPC\n        </Button>\n      </h1>\n      {cellType ? (\n        <h2>Cell type: {cellType}</h2>\n      ) : (\n        <h2>Procedure: {procedure}</h2>\n      )}\n\n      {tableRows.length > 0 ? (\n        <>\n          <Legend></Legend>\n          <Table striped bordered hover responsive>\n            <thead>\n              <tr>\n                {tableColumns.map((col) => (\n                  <th key={col}>{col}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {tableRows.map((v: any) => (\n                <tr\n                  key={v.parameterId}\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => {\n                    window.open(\n                      `https://www.mousephenotype.org/data/charts?phenotyping_center=WTSI&accession=${v.mgi}&parameter_stable_id=${v.parameterId}`\n                    );\n                  }}\n                >\n                  {tableColumns.map((col, i) =>\n                    [\"Parameter\", \"Assay\"].includes(col) ? (\n                      <td key={v.parameterId + i}>{v[col]}</td>\n                    ) : (\n                      <td\n                        key={v.parameterId + i}\n                        style={{ backgroundColor: getCellColor[v[col]] }}\n                      ></td>\n                    )\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </>\n      ) : (\n        <Alert variant=\"danger\" className=\"my-5\">\n          No data available!\n        </Alert>\n      )}\n    </Container>\n  );\n};\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { HashRouter, Route, Switch, withRouter } from \"react-router-dom\";\nimport { About } from \"./pages/About\";\nimport \"./App.scss\";\nimport { Home } from \"./Home\";\nimport { MainNav } from \"./MainNav\";\nimport { ThreeiFooter } from \"./ThreeiFooter\";\nimport { Publications } from \"./pages/Publications\";\nimport { Contact } from \"./pages/Contact\";\nimport { Team } from \"./pages/Team\";\nimport { Faq } from \"./pages/Faq\";\nimport { HowToCite } from \"./pages/HowToCite\";\nimport { Limitations } from \"./pages/Limitations\";\nimport { ExperimentalDesign } from \"./pages/ExperimentalDesign\";\nimport { StatisticalDesign } from \"./pages/StatisticalDesign\";\nimport { Downloads } from \"./pages/Downloads\";\nimport { FlowFiles } from \"./pages/FlowFiles\";\nimport { NewCellTypes } from \"./pages/NewCellTypes\";\nimport { Details } from \"./Details\";\n\nfunction App() {\n  const MainBarWithRouter = withRouter(MainNav);\n  const FooterWithRouter = withRouter(ThreeiFooter);\n\n  const [cellParameterMap, setCellParameterMap] = useState<Array<any>>([]);\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/three-i-cell-parameter.json`)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          setCellParameterMap(result);\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  }, []);\n\n  return (\n    <Fragment>\n      <HashRouter basename=\"/\">\n        <MainBarWithRouter />\n        <main className=\"main-content w-100\">\n          <Container fluid style={{ paddingLeft: 0, paddingRight: 0 }}>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route exact path=\"/project/about\" component={About} />\n              <Route\n                exact\n                path=\"/project/publications\"\n                component={Publications}\n              />\n              <Route exact path=\"/project/contact\" component={Contact} />\n              <Route\n                exact\n                path=\"/project/team-and-collaborators\"\n                component={Team}\n              />\n              <Route exact path=\"/project/faq\" component={Faq} />\n              <Route exact path=\"/project/how-to-cite\" component={HowToCite} />\n              <Route\n                exact\n                path=\"/methods/strengths-and-limitations\"\n                component={Limitations}\n              />\n              <Route\n                exact\n                path=\"/methods/experimental-design\"\n                component={ExperimentalDesign}\n              />\n              <Route\n                exact\n                path=\"/methods/statistical-design\"\n                component={StatisticalDesign}\n              />\n              <Route exact path=\"/data/downloads\" component={Downloads} />\n              <Route exact path=\"/data/flow-files\" component={FlowFiles} />\n              <Route\n                exact\n                path=\"/data/new-cell-types\"\n                component={NewCellTypes}\n              />\n              <Route\n                path=\"/data/details/:gene/by-cell-type/:cellType\"\n                children={<Details cellTypeParameterMap={cellParameterMap} />}\n              />\n              <Route\n                path=\"/data/details/:gene/by-procedure/:procedure\"\n                children={<Details cellTypeParameterMap={cellParameterMap} />}\n              />\n            </Switch>\n          </Container>\n        </main>\n        <FooterWithRouter />\n      </HashRouter>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}