(this["webpackJsonpmi-threei-web"]=this["webpackJsonpmi-threei-web"]||[]).push([[0],{259:function(e,t,n){},260:function(e,t,n){},368:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(37),l=n.n(c),s=(n(259),n(438)),r=n(439),o=n(24),j=n(244),d=(n(260),n(17)),h=n(437),b=n(242),u=n(443),O=n(241),m=n(440),p=n(441),x=n(245),y=(n(368),n(4)),g=["No data","Not enough data","Not significantly different","Significantly different"],f=function(e){var t=e.data,n=e.columns;return Object(y.jsx)(x.a,{data:t,keys:n.map((function(e){return e.key})),indexBy:"gene",margin:{top:180,right:0,bottom:20,left:120},pixelRatio:1,minValue:"auto",maxValue:"auto",forceSquare:!1,sizeVariation:0,padding:1,colors:"RdBu",axisTop:{orient:"top",tickSize:5,tickPadding:5,tickRotation:-90,legend:"",legendOffset:36,tickValues:n.map((function(e){return e.display}))},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0},enableGridX:!1,enableGridY:!0,cellShape:"rect",cellOpacity:1,cellBorderWidth:0,cellBorderColor:{from:"color",modifiers:[["darker",.4]]},enableLabels:!1,labelTextColor:{from:"color",modifiers:[["darker",1.4]]},animate:!0,motionStiffness:120,motionDamping:9,isInteractive:!0,hoverTarget:"rowColumn",cellHoverOpacity:1,cellHoverOthersOpacity:.5,theme:{axis:{ticks:{text:{fontSize:14,fontSmooth:"always"}}}},tooltip:function(e){var t=e.xKey,i=e.yKey,a=e.value;e.color;return Object(y.jsxs)("span",{children:[Object(y.jsx)("strong",{children:n.find((function(e){return e.key===t})).display})," ",Object(y.jsx)("br",{}),Object(y.jsx)("emp",{children:g[a]})," ",Object(y.jsx)("br",{}),Object(y.jsx)("strong",{children:i})]})}})},v=(n(370),n(444)),k=n(127),C=function(e){var t=e.options,n=e.onChange,a=Object(i.useState)([]),c=Object(d.a)(a,2),l=c[0],s=c[1];return Object(y.jsxs)(v.a.Group,{style:{marginTop:"20px"},children:[Object(y.jsx)(v.a.Label,{children:"Filter by gene symbol"}),Object(y.jsx)(k.a,{id:"basic-typeahead-multiple",multiple:!0,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s(e),n(e)})),options:t,placeholder:"Select gene symbol...",selected:l,clearButton:!0,allowNew:!0})]})},S=function(e){var t=e.options,n=e.onChange,a=Object(i.useState)([]),c=Object(d.a)(a,2),l=c[0],s=c[1];return Object(y.jsxs)(v.a.Group,{style:{marginTop:"20px"},children:[Object(y.jsx)(v.a.Label,{children:"Filter by cell type significance"}),Object(y.jsx)(k.a,{id:"basic-typeahead-multiple",single:!0,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s(e),n(e[0])})),labelKey:"display",options:t,placeholder:"Select cell type...",selected:l,clearButton:!0})]})},w=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=function(){return a(!1)},l=Object(i.useState)(null),o=Object(d.a)(l,2),j=o[0],x=o[1],g=Object(i.useState)(!1),v=Object(d.a)(g,2),k=v[0],w=v[1],N=Object(i.useState)([]),T=Object(d.a)(N,2),I=T[0],K=T[1],B=Object(i.useState)([]),F=Object(d.a)(B,2),L=F[0],M=F[1],D=Object(i.useState)([]),P=Object(d.a)(D,2),z=P[0],E=P[1],H=Object(i.useState)(null),G=Object(d.a)(H,2),R=G[0],V=G[1],W=z.length>0?I.filter((function(e){return z.includes(e.gene)})):I,A=20*(W=W.filter((function(e){return!R||3===e[R.key]}))).length>500?20*W.length:500,J=[{key:"alphaDeltaTCells",display:"\u03b3\u03b4 T cells"},{key:"nKCells",display:"NK Cells"},{key:"nktCells",display:"NKT Cells"},{key:"bCellPrecursors",display:"B cell precursors"},{key:"dendriticCells",display:"Dendritic Cells"},{key:"granulocytes",display:"Granulocytes"},{key:"tregCells",display:"Treg Cells"},{key:"cD4TCells",display:"CD 4 TCells"},{key:"monocytesMacrophages",display:"Monocytes / Macrophages"},{key:"totalAlphBetaTCells",display:"Total \u03b1\u03b2 T cells"},{key:"bCells",display:"B cells"},{key:"cd8TCells",display:"CD 8 T Cells"},{key:"dSSChallenge",display:"DSS Challenge"},{key:"influenza",display:"Influenza"},{key:"trichurisChallenge",display:"Trichuris Challenge"},{key:"salmonellaChallenge",display:"Salmonella Challenge"}];return Object(i.useEffect)((function(){fetch("".concat("/mi-threei-web","/three-i-cell-heatmap.json")).then((function(e){return e.json()})).then((function(e){w(!0),K(e),M(e.map((function(e){return e.gene})))}),(function(e){w(!0),x(e)}))}),[]),Object(y.jsxs)(i.Fragment,{children:[Object(y.jsx)(h.a,{fluid:!0,children:Object(y.jsxs)(s.a,{children:[Object(y.jsx)("h1",{children:"3i Project"}),Object(y.jsx)("h3",{className:"text-muted",children:"Over 300 Immunological Phenotypes and 500 Mouse KO Lines!"}),Object(y.jsx)(b.a,{variant:"primary",onClick:function(){return a(!0)},children:"Learn more!"}),Object(y.jsxs)(u.a,{show:n,onHide:c,size:"xl",children:[Object(y.jsx)(u.a.Header,{closeButton:!0,children:Object(y.jsx)(u.a.Title,{children:"Project overview"})}),Object(y.jsxs)(u.a.Body,{children:[Object(y.jsx)("p",{children:"The 3i project has established that genetics plays an important role in shaping the immune system. By using a high-throughput, high-density immunophenotyping platform we identified 140 genes (out of 530 screened) that have an impact on the immune system when knocked out in C57BL/6N mice."}),Object(y.jsx)("div",{className:"text-center",children:Object(y.jsx)("img",{alt:"",src:"".concat("/mi-threei-web","/project_overview.jpeg"),style:{width:"100%",maxWidth:"800px"},className:"d-inline-block align-middle"})})," "]}),Object(y.jsx)(u.a.Footer,{children:Object(y.jsx)(b.a,{variant:"secondary",onClick:c,children:"Close"})})]})]})}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)("h1",{className:"text-center",children:"Explore 3i data"}),k?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(r.a,{children:[Object(y.jsx)(O.a,{children:Object(y.jsx)(C,{options:L,onChange:E})}),Object(y.jsx)(O.a,{children:Object(y.jsx)(S,{options:J,onChange:V})})]}),Object(y.jsx)(r.a,{children:Object(y.jsx)(O.a,{children:z.length>0?Object(y.jsxs)("h4",{className:"text-center",children:["Showing data for genes in [",z.map((function(e,t){return Object(y.jsxs)(y.Fragment,{children:[" ",Object(y.jsx)(m.a,{variant:"info",children:e}),z.length!==t+1?Object(y.jsx)("span",{children:","}):null]})}))," ","]"," ",R?Object(y.jsxs)("span",{children:["and significant for"," ",Object(y.jsx)(m.a,{variant:"info",children:R.display})]}):null]}):null})}),Object(y.jsx)(r.a,{className:W.length>0?"d-block":"d-none",children:Object(y.jsx)(O.a,{style:{width:"100%",height:A+"px"},children:Object(y.jsx)(f,{data:W,columns:J})})}),Object(y.jsx)(r.a,{className:0===W.length?"d-block":"d-none",children:Object(y.jsx)(p.a,{variant:"danger",children:"No matching date for your filters, try changing them!"})})]}):"loading"]}),j?"error!":null]})},N=n(446),T=n(447),I=n(442),K=function(e){var t=e.location,n=Object(i.useState)(!1),a=Object(d.a)(n,2),c=a[0],l=a[1],r=Object(i.useState)(!1),o=Object(d.a)(r,2),j=o[0],h=o[1],b=Object(i.useState)(!1),u=Object(d.a)(b,2),O=u[0],m=u[1];return Object(y.jsx)(N.a,{bg:"light",children:Object(y.jsxs)(s.a,{children:[Object(y.jsxs)(N.a.Brand,{href:"#home",children:[Object(y.jsx)("img",{alt:"",src:"".concat("/mi-threei-web","/3i-icon.png"),height:"60px",className:"d-inline-block align-middle"})," ",Object(y.jsx)("div",{className:"d-inline-block align-middle text-primary",children:Object(y.jsxs)("span",{style:{fontFamily:"'Merriweather Sans', sans-serif",fontWeight:"bolder"},children:["Infection, Immunity ",Object(y.jsx)("br",{}),"Immunophenotyping"," "]})})]}),Object(y.jsxs)(N.a.Toggle,{"aria-controls":"responsive-navbar-nav",className:"uarr",type:"button",children:[Object(y.jsx)("span",{className:"icon-bar"}),Object(y.jsx)("span",{className:"icon-bar"}),Object(y.jsx)("span",{className:"icon-bar"})]}),Object(y.jsx)(N.a.Collapse,{id:"responsive-navbar-nav",children:Object(y.jsxs)(T.a,{className:"ml-auto text",activeKey:null===t||void 0===t?void 0:t.pathname,style:{fontFamily:"'Merriweather Sans', sans-serif",fontWeight:"bolder"},children:[Object(y.jsx)(T.a.Link,{href:"/",children:"Home"}),Object(y.jsxs)(I.a,{title:"Project",id:"about-dropdown",show:c,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[Object(y.jsx)(I.a.Item,{eventKey:"4.1",children:"About 3i"}),Object(y.jsx)(I.a.Item,{eventKey:"4.2",children:"Publications"}),Object(y.jsx)(I.a.Item,{eventKey:"4.3",children:"Contact"}),Object(y.jsx)(I.a.Item,{eventKey:"4.4",children:"Team and Collaborators"}),Object(y.jsx)(I.a.Item,{eventKey:"4.5",children:"FAQ"}),Object(y.jsx)(I.a.Item,{eventKey:"4.6",children:"How to cite?"})]}),Object(y.jsxs)(I.a,{title:"Methods",id:"methods-dropdown",show:j,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:[Object(y.jsx)(I.a.Item,{eventKey:"4.1",children:"Strengths and Limitations"}),Object(y.jsx)(I.a.Item,{eventKey:"4.2",children:"Experimental Design and Protocols"}),Object(y.jsx)(I.a.Item,{eventKey:"4.3",children:"Statistical Design"})]}),Object(y.jsxs)(I.a,{title:"Data",id:"data-dropdown",show:O,onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:[Object(y.jsx)(I.a.Item,{eventKey:"4.1",children:"Downloads"}),Object(y.jsx)(I.a.Item,{eventKey:"4.2",children:"Flow files"}),Object(y.jsx)(I.a.Item,{eventKey:"4.3",children:"New cell types"})]})]})})]})})};var B=function(){var e=Object(o.f)(K);return Object(y.jsx)(i.Fragment,{children:Object(y.jsxs)(j.a,{basename:"/mi-threei-web",children:[Object(y.jsx)(e,{}),Object(y.jsx)("main",{className:"main-content w-100",children:Object(y.jsx)(s.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0},children:Object(y.jsx)(o.c,{children:Object(y.jsx)(o.a,{exact:!0,path:"/",component:w})})})}),Object(y.jsx)("footer",{className:"footer py-5 bg-dark text-light",children:Object(y.jsx)(s.a,{children:Object(y.jsx)(r.a,{})})})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,449)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),i(e),a(e),c(e),l(e)}))};l.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(B,{})}),document.getElementById("root")),F()}},[[389,1,2]]]);
//# sourceMappingURL=main.5d7815e9.chunk.js.map